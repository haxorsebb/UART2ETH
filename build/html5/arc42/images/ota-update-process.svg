<?xml version='1.0' encoding='US-ASCII' standalone='no'?><svg contentStyleType='text/css' height='2116px' preserveAspectRatio='none' style='width:1967px;height:2116px;' version='1.1' viewBox='0 0 1967 2116' width='1967px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><text fill='#000000' font-family='Verdana' font-size='22' font-weight='bold' lengthAdjust='spacing' textLength='625' x='674.5' y='35.4209'>OTA Firmware Update Process with A/B Partitions</text><rect fill='#FFFFFF' height='1907.1797' style='stroke:#000000;stroke-width:1.0;' width='10' x='375' y='114.0391'/><rect fill='#FFFFFF' height='435.8594' style='stroke:#000000;stroke-width:1.0;' width='10' x='560' y='243.5703'/><rect fill='#FFFFFF' height='29.1328' style='stroke:#000000;stroke-width:1.0;' width='10' x='791' y='272.7031'/><rect fill='#FFFFFF' height='29.1328' style='stroke:#000000;stroke-width:1.0;' width='10' x='791' y='489.6328'/><rect fill='#FFFFFF' height='1661.1172' style='stroke:#000000;stroke-width:1.0;' width='10' x='940' y='360.1016'/><rect fill='#FFFFFF' height='1312.6563' style='stroke:#000000;stroke-width:1.0;' width='10' x='1149' y='708.5625'/><rect fill='#FFFFFF' height='71.2656' style='stroke:#000000;stroke-width:1.0;' width='10' x='1357' y='143.1719'/><rect fill='#FFFFFF' height='510.7969' style='stroke:#000000;stroke-width:1.0;' width='10' x='1357' y='1308.8203'/><rect fill='#FFFFFF' height='159.6641' style='stroke:#000000;stroke-width:1.0;' width='10' x='1601' y='1337.9531'/><rect fill='#FFFFFF' height='624.1953' style='stroke:#000000;stroke-width:1.0;' width='10' x='1787' y='1195.4219'/><rect fill='#FFFFFF' height='117.5313' style='stroke:#000000;stroke-width:1.0;' width='1058' x='53' y='533.7656'/><rect fill='#FFFFFF' height='1135.125' style='stroke:#000000;stroke-width:1.0;' width='1946' x='14' y='879.0938'/><rect fill='#FFFFFF' height='459.6641' style='stroke:#000000;stroke-width:1.0;' width='1082' x='868' y='1352.9531'/><rect fill='#FFFFFF' height='249.7344' style='stroke:none;stroke-width:1.0;' width='1082' x='868' y='1562.8828'/><rect fill='#FFFFFF' height='194.6016' style='stroke:none;stroke-width:1.0;' width='1946' x='14' y='1819.6172'/><line style='stroke:#000000;stroke-width:1.0;' x1='134' x2='134' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='379.5' x2='379.5' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='565' x2='565' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='796' x2='796' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='945' x2='945' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='1154' x2='1154' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='1361.5' x2='1361.5' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='1605.5' x2='1605.5' y1='82.9063' y2='2081.4844'/><line style='stroke:#000000;stroke-width:1.0;' x1='1791.5' x2='1791.5' y1='82.9063' y2='2081.4844'/><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='122' x='73' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='108' x='80' y='71.6045'>Management UI</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='122' x='73' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='108' x='80' y='2100.4795'>Management UI</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='107' x='326.5' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='93' x='333.5' y='71.6045'>OTA Manager</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='107' x='326.5' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='93' x='333.5' y='2100.4795'>OTA Manager</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='94' x='518' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='80' x='525' y='71.6045'>HTTP Client</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='94' x='518' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='80' x='525' y='2100.4795'>HTTP Client</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='124' x='734' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='110' x='741' y='71.6045'>Firmware Server</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='124' x='734' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='110' x='741' y='2100.4795'>Firmware Server</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='114' x='888' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='100' x='895' y='71.6045'>Flash Manager</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='114' x='888' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='100' x='895' y='2100.4795'>Flash Manager</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='122' x='1093' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='108' x='1100' y='71.6045'>Crypto Validator</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='122' x='1093' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='108' x='1100' y='2100.4795'>Crypto Validator</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='159' x='1282.5' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='145' x='1289.5' y='71.6045'>Global State Machine</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='159' x='1282.5' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='145' x='1289.5' y='2100.4795'>Global State Machine</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='139' x='1536.5' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='125' x='1543.5' y='71.6045'>Watchdog System</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='139' x='1536.5' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='125' x='1543.5' y='2100.4795'>Watchdog System</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='127' x='1728.5' y='51.6094'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='113' x='1735.5' y='71.6045'>ROM Bootloader</text><rect fill='#FFFFFF' height='30.2969' rx='2.5' ry='2.5' style='stroke:#000000;stroke-width:1.0;' width='127' x='1728.5' y='2080.4844'/><text fill='#000000' font-family='Verdana' font-size='14' lengthAdjust='spacing' textLength='113' x='1735.5' y='2100.4795'>ROM Bootloader</text><rect fill='#FFFFFF' height='1907.1797' style='stroke:#000000;stroke-width:1.0;' width='10' x='375' y='114.0391'/><rect fill='#FFFFFF' height='435.8594' style='stroke:#000000;stroke-width:1.0;' width='10' x='560' y='243.5703'/><rect fill='#FFFFFF' height='29.1328' style='stroke:#000000;stroke-width:1.0;' width='10' x='791' y='272.7031'/><rect fill='#FFFFFF' height='29.1328' style='stroke:#000000;stroke-width:1.0;' width='10' x='791' y='489.6328'/><rect fill='#FFFFFF' height='1661.1172' style='stroke:#000000;stroke-width:1.0;' width='10' x='940' y='360.1016'/><rect fill='#FFFFFF' height='1312.6563' style='stroke:#000000;stroke-width:1.0;' width='10' x='1149' y='708.5625'/><rect fill='#FFFFFF' height='71.2656' style='stroke:#000000;stroke-width:1.0;' width='10' x='1357' y='143.1719'/><rect fill='#FFFFFF' height='510.7969' style='stroke:#000000;stroke-width:1.0;' width='10' x='1357' y='1308.8203'/><rect fill='#FFFFFF' height='159.6641' style='stroke:#000000;stroke-width:1.0;' width='10' x='1601' y='1337.9531'/><rect fill='#FFFFFF' height='624.1953' style='stroke:#000000;stroke-width:1.0;' width='10' x='1787' y='1195.4219'/><polygon fill='#000000' points='363,110.0391,373,114.0391,363,118.0391,367,114.0391' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='134' x2='369' y1='114.0391' y2='114.0391'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='166' x='141' y='108.9731'>trigger_firmware_update()</text><polygon fill='#000000' points='1345,139.1719,1355,143.1719,1345,147.1719,1349,143.1719' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='1351' y1='143.1719' y2='143.1719'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='155' x='392' y='138.106'>request_update_mode()</text><line style='stroke:#000000;stroke-width:1.0;' x1='1367' x2='1409' y1='172.3047' y2='172.3047'/><line style='stroke:#000000;stroke-width:1.0;' x1='1409' x2='1409' y1='172.3047' y2='185.3047'/><line style='stroke:#000000;stroke-width:1.0;' x1='1368' x2='1409' y1='185.3047' y2='185.3047'/><polygon fill='#000000' points='1378,181.3047,1368,185.3047,1378,189.3047,1374,185.3047' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='178' x='1374' y='167.2388'>Set State = UPDATE_MODE</text><polygon fill='#000000' points='396,210.4375,386,214.4375,396,218.4375,392,214.4375' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='390' x2='1361' y1='214.4375' y2='214.4375'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='151' x='402' y='209.3716'>Update Mode Approved</text><polygon fill='#000000' points='548,239.5703,558,243.5703,548,247.5703,552,243.5703' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='554' y1='243.5703' y2='243.5703'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='156' x='392' y='238.5044'>check_firmware_server()</text><polygon fill='#000000' points='779,268.7031,789,272.7031,779,276.7031,783,272.7031' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='570' x2='785' y1='272.7031' y2='272.7031'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='128' x='577' y='267.6372'>GET /firmware/latest</text><polygon fill='#000000' points='581,297.8359,571,301.8359,581,305.8359,577,301.8359' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='575' x2='795' y1='301.8359' y2='301.8359'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='167' x='587' y='296.77'>Firmware Metadata + URL</text><polygon fill='#000000' points='396,326.9688,386,330.9688,396,334.9688,392,330.9688' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='390' x2='559' y1='330.9688' y2='330.9688'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='108' x='402' y='325.9028'>Update Available</text><polygon fill='#000000' points='928,356.1016,938,360.1016,928,364.1016,932,360.1016' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='934' y1='360.1016' y2='360.1016'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='147' x='392' y='355.0356'>get_inactive_partition()</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='389.2344' y2='389.2344'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='389.2344' y2='402.2344'/><line style='stroke:#000000;stroke-width:1.0;' x1='951' x2='992' y1='402.2344' y2='402.2344'/><polygon fill='#000000' points='961,398.2344,951,402.2344,961,406.2344,957,402.2344' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='178' x='957' y='384.1685'>Determine Inactive Partition</text><polygon fill='#000000' points='396,427.3672,386,431.3672,396,435.3672,392,431.3672' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='390' x2='939' y1='431.3672' y2='431.3672'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='127' x='402' y='426.3013'>Partition B Available</text><polygon fill='#000000' points='548,456.5,558,460.5,548,464.5,552,460.5' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='554' y1='460.5' y2='460.5'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='132' x='392' y='455.4341'>download_firmware()</text><polygon fill='#000000' points='779,485.6328,789,489.6328,779,493.6328,783,489.6328' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='570' x2='785' y1='489.6328' y2='489.6328'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='202' x='577' y='484.5669'>GET /firmware/uart2eth-v2.0.bin</text><polygon fill='#000000' points='581,514.7656,571,518.7656,581,522.7656,577,518.7656' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='575' x2='795' y1='518.7656' y2='518.7656'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='154' x='587' y='513.6997'>Firmware Binary Stream</text><path d='M53,533.7656 L130,533.7656 L130,540.8984 L120,550.8984 L53,550.8984 L53,533.7656 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><rect fill='none' height='117.5313' style='stroke:#000000;stroke-width:1.0;' width='1058' x='53' y='533.7656'/><text fill='#000000' font-family='Verdana' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='32' x='68' y='546.8325'>loop</text><text fill='#000000' font-family='Verdana' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='134' x='145' y='545.9761'>[Download Progress]</text><polygon fill='#000000' points='928,568.0313,938,572.0313,928,576.0313,932,572.0313' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='570' x2='934' y1='572.0313' y2='572.0313'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='180' x='577' y='566.9653'>write_chunk_to_partition_b()</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='601.1641' y2='601.1641'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='601.1641' y2='614.1641'/><line style='stroke:#000000;stroke-width:1.0;' x1='951' x2='992' y1='614.1641' y2='614.1641'/><polygon fill='#000000' points='961,610.1641,951,614.1641,961,618.1641,957,614.1641' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='142' x='957' y='596.0981'>Write to Flash Memory</text><polygon fill='#000000' points='145,639.2969,135,643.2969,145,647.2969,141,643.2969' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='139' x2='559' y1='643.2969' y2='643.2969'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='118' x='151' y='638.231'>update_progress()</text><polygon fill='#000000' points='396,675.4297,386,679.4297,396,683.4297,392,679.4297' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='390' x2='564' y1='679.4297' y2='679.4297'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='128' x='402' y='674.3638'>Download Complete</text><polygon fill='#000000' points='1137,704.5625,1147,708.5625,1137,712.5625,1141,708.5625' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='1143' y1='708.5625' y2='708.5625'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='173' x='392' y='703.4966'>verify_firmware_signature()</text><line style='stroke:#000000;stroke-width:1.0;' x1='1159' x2='1201' y1='737.6953' y2='737.6953'/><line style='stroke:#000000;stroke-width:1.0;' x1='1201' x2='1201' y1='737.6953' y2='750.6953'/><line style='stroke:#000000;stroke-width:1.0;' x1='1160' x2='1201' y1='750.6953' y2='750.6953'/><polygon fill='#000000' points='1170,746.6953,1160,750.6953,1170,754.6953,1166,750.6953' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='184' x='1166' y='732.6294'>Extract Embedded Signature</text><line style='stroke:#000000;stroke-width:1.0;' x1='1159' x2='1201' y1='779.8281' y2='779.8281'/><line style='stroke:#000000;stroke-width:1.0;' x1='1201' x2='1201' y1='779.8281' y2='792.8281'/><line style='stroke:#000000;stroke-width:1.0;' x1='1160' x2='1201' y1='792.8281' y2='792.8281'/><polygon fill='#000000' points='1170,788.8281,1160,792.8281,1170,796.8281,1166,792.8281' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='172' x='1166' y='774.7622'>Validate Against Public Key</text><line style='stroke:#000000;stroke-width:1.0;' x1='1159' x2='1201' y1='821.9609' y2='821.9609'/><line style='stroke:#000000;stroke-width:1.0;' x1='1201' x2='1201' y1='821.9609' y2='834.9609'/><line style='stroke:#000000;stroke-width:1.0;' x1='1160' x2='1201' y1='834.9609' y2='834.9609'/><polygon fill='#000000' points='1170,830.9609,1160,834.9609,1170,838.9609,1166,834.9609' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='157' x='1166' y='816.895'>Compute SHA-256 Hash</text><polygon fill='#000000' points='396,860.0938,386,864.0938,396,868.0938,392,864.0938' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='390' x2='1148' y1='864.0938' y2='864.0938'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='97' x='402' y='859.0278'>Signature Valid</text><path d='M14,879.0938 L78,879.0938 L78,886.2266 L68,896.2266 L14,896.2266 L14,879.0938 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><rect fill='none' height='1135.125' style='stroke:#000000;stroke-width:1.0;' width='1946' x='14' y='879.0938'/><text fill='#000000' font-family='Verdana' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='29' y='892.1606'>alt</text><text fill='#000000' font-family='Verdana' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='108' x='93' y='891.3042'>[Signature Valid]</text><polygon fill='#000000' points='928,913.3594,938,917.3594,928,921.3594,932,917.3594' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='934' y1='917.3594' y2='917.3594'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='163' x='392' y='912.2935'>mark_partition_b_active()</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='946.4922' y2='946.4922'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='946.4922' y2='959.4922'/><line style='stroke:#000000;stroke-width:1.0;' x1='951' x2='992' y1='959.4922' y2='959.4922'/><polygon fill='#000000' points='961,955.4922,951,959.4922,961,963.4922,957,959.4922' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='142' x='957' y='941.4263'>Update Partition Table</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='988.625' y2='988.625'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='988.625' y2='1001.625'/><line style='stroke:#000000;stroke-width:1.0;' x1='951' x2='992' y1='1001.625' y2='1001.625'/><polygon fill='#000000' points='961,997.625,951,1001.625,961,1005.625,957,1001.625' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='93' x='957' y='983.5591'>Set Boot Flags</text><polygon fill='#000000' points='396,1026.7578,386,1030.7578,396,1034.7578,392,1030.7578' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='390' x2='939' y1='1030.7578' y2='1030.7578'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='171' x='402' y='1025.6919'>Partition Switch Configured</text><polygon fill='#000000' points='145,1055.8906,135,1059.8906,145,1063.8906,141,1059.8906' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='139' x2='374' y1='1059.8906' y2='1059.8906'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='217' x='151' y='1054.8247'>firmware_ready_reboot_required()</text><line style='stroke:#000000;stroke-width:1.0;' x1='134' x2='176' y1='1089.0234' y2='1089.0234'/><line style='stroke:#000000;stroke-width:1.0;' x1='176' x2='176' y1='1089.0234' y2='1102.0234'/><line style='stroke:#000000;stroke-width:1.0;' x1='135' x2='176' y1='1102.0234' y2='1102.0234'/><polygon fill='#000000' points='145,1098.0234,135,1102.0234,145,1106.0234,141,1102.0234' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='165' x='141' y='1083.9575'>Display "Reboot Required"</text><path d='M24,1115.0234 L24,1140.0234 L243,1140.0234 L243,1125.0234 L233,1115.0234 L24,1115.0234 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><path d='M233,1115.0234 L233,1125.0234 L243,1125.0234 L233,1115.0234 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='198' x='30' y='1132.0903'>Manual reboot initiated by user</text><polygon fill='#000000' points='1350,1162.2891,1360,1166.2891,1350,1170.2891,1354,1166.2891' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='134' x2='1356' y1='1166.2891' y2='1166.2891'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='106' x='141' y='1161.2231'>system_reboot()</text><polygon fill='#000000' points='1775,1191.4219,1785,1195.4219,1775,1199.4219,1779,1195.4219' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='1362' x2='1781' y1='1195.4219' y2='1195.4219'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='149' x='1369' y='1190.356'>Trigger Hardware Reset</text><line style='stroke:#000000;stroke-width:1.0;' x1='1797' x2='1839' y1='1224.5547' y2='1224.5547'/><line style='stroke:#000000;stroke-width:1.0;' x1='1839' x2='1839' y1='1224.5547' y2='1237.5547'/><line style='stroke:#000000;stroke-width:1.0;' x1='1798' x2='1839' y1='1237.5547' y2='1237.5547'/><polygon fill='#000000' points='1808,1233.5547,1798,1237.5547,1808,1241.5547,1804,1237.5547' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='127' x='1804' y='1219.4888'>Read Partition Table</text><line style='stroke:#000000;stroke-width:1.0;' x1='1797' x2='1839' y1='1266.6875' y2='1266.6875'/><line style='stroke:#000000;stroke-width:1.0;' x1='1839' x2='1839' y1='1266.6875' y2='1279.6875'/><line style='stroke:#000000;stroke-width:1.0;' x1='1798' x2='1839' y1='1279.6875' y2='1279.6875'/><polygon fill='#000000' points='1808,1275.6875,1798,1279.6875,1808,1283.6875,1804,1279.6875' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='134' x='1804' y='1261.6216'>Boot from Partition B</text><polygon fill='#000000' points='1378,1304.8203,1368,1308.8203,1378,1312.8203,1374,1308.8203' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='1372' x2='1786' y1='1308.8203' y2='1308.8203'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='125' x='1384' y='1303.7544'>Start New Firmware</text><polygon fill='#000000' points='1589,1333.9531,1599,1337.9531,1589,1341.9531,1593,1337.9531' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='1367' x2='1595' y1='1337.9531' y2='1337.9531'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='168' x='1374' y='1332.8872'>start_confirmation_timer()</text><path d='M868,1352.9531 L932,1352.9531 L932,1360.0859 L922,1370.0859 L868,1370.0859 L868,1352.9531 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><rect fill='none' height='459.6641' style='stroke:#000000;stroke-width:1.0;' width='1082' x='868' y='1352.9531'/><text fill='#000000' font-family='Verdana' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='883' y='1366.02'>alt</text><text fill='#000000' font-family='Verdana' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='196' x='947' y='1365.1636'>[Firmware Starts Successfully]</text><line style='stroke:#000000;stroke-width:1.0;' x1='1367' x2='1409' y1='1391.2188' y2='1391.2188'/><line style='stroke:#000000;stroke-width:1.0;' x1='1409' x2='1409' y1='1391.2188' y2='1404.2188'/><line style='stroke:#000000;stroke-width:1.0;' x1='1368' x2='1409' y1='1404.2188' y2='1404.2188'/><polygon fill='#000000' points='1378,1400.2188,1368,1404.2188,1378,1408.2188,1374,1404.2188' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='141' x='1374' y='1386.1528'>Complete Initialization</text><polygon fill='#000000' points='1589,1429.3516,1599,1433.3516,1589,1437.3516,1593,1433.3516' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='1367' x2='1595' y1='1433.3516' y2='1433.3516'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='210' x='1374' y='1428.2856'>disable_watchdog_confirmation()</text><polygon fill='#000000' points='961,1458.4844,951,1462.4844,961,1466.4844,957,1462.4844' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='955' x2='1600' y1='1462.4844' y2='1462.4844'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='174' x='967' y='1457.4185'>mark_partition_confirmed()</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='1496.6172' y2='1496.6172'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='1496.6172' y2='1509.6172'/><line style='stroke:#000000;stroke-width:1.0;' x1='945' x2='992' y1='1509.6172' y2='1509.6172'/><polygon fill='#000000' points='955,1505.6172,945,1509.6172,955,1513.6172,951,1509.6172' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='143' x='957' y='1491.5513'>Set Partition as Stable</text><path d='M1277,1517.6172 L1277,1557.6172 L1446,1557.6172 L1446,1527.6172 L1436,1517.6172 L1277,1517.6172 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><path d='M1436,1517.6172 L1436,1527.6172 L1446,1527.6172 L1436,1517.6172 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='117' x='1283' y='1534.6841'>Update successful</text><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='148' x='1283' y='1549.8169'>Partition B now primary</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='868' x2='1950' y1='1563.8828' y2='1563.8828'/><text fill='#000000' font-family='Verdana' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='157' x='873' y='1574.0933'>[Firmware Fails to Start]</text><line style='stroke:#000000;stroke-width:1.0;' x1='1606' x2='1648' y1='1598.8203' y2='1598.8203'/><line style='stroke:#000000;stroke-width:1.0;' x1='1648' x2='1648' y1='1598.8203' y2='1611.8203'/><line style='stroke:#000000;stroke-width:1.0;' x1='1607' x2='1648' y1='1611.8203' y2='1611.8203'/><polygon fill='#000000' points='1617,1607.8203,1607,1611.8203,1617,1615.8203,1613,1611.8203' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='172' x='1613' y='1593.7544'>Confirmation Timer Expires</text><polygon fill='#000000' points='1775,1636.9531,1785,1640.9531,1775,1644.9531,1779,1640.9531' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='1606' x2='1781' y1='1640.9531' y2='1640.9531'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='108' x='1613' y='1635.8872'>trigger_rollback()</text><polygon fill='#000000' points='961,1666.0859,951,1670.0859,961,1674.0859,957,1670.0859' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='955' x2='1786' y1='1670.0859' y2='1670.0859'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='144' x='967' y='1665.02'>switch_to_partition_a()</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='1699.2188' y2='1699.2188'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='1699.2188' y2='1712.2188'/><line style='stroke:#000000;stroke-width:1.0;' x1='951' x2='992' y1='1712.2188' y2='1712.2188'/><polygon fill='#000000' points='961,1708.2188,951,1712.2188,961,1716.2188,957,1712.2188' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='185' x='957' y='1694.1528'>Restore Previous Boot Config</text><line style='stroke:#000000;stroke-width:1.0;' x1='1797' x2='1839' y1='1741.3516' y2='1741.3516'/><line style='stroke:#000000;stroke-width:1.0;' x1='1839' x2='1839' y1='1741.3516' y2='1754.3516'/><line style='stroke:#000000;stroke-width:1.0;' x1='1798' x2='1839' y1='1754.3516' y2='1754.3516'/><polygon fill='#000000' points='1808,1750.3516,1798,1754.3516,1808,1758.3516,1804,1754.3516' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='134' x='1804' y='1736.2856'>Boot from Partition A</text><path d='M1665,1767.3516 L1665,1807.3516 L1919,1807.3516 L1919,1777.3516 L1909,1767.3516 L1665,1767.3516 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><path d='M1909,1767.3516 L1909,1777.3516 L1919,1777.3516 L1909,1767.3516 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='119' x='1671' y='1784.4185'>Automatic rollback</text><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='233' x='1671' y='1799.5513'>System recovers to previous version</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='14' x2='1960' y1='1820.6172' y2='1820.6172'/><text fill='#000000' font-family='Verdana' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='119' x='19' y='1830.8276'>[Signature Invalid]</text><polygon fill='#000000' points='396,1851.5547,386,1855.5547,396,1859.5547,392,1855.5547' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='390' x2='1148' y1='1855.5547' y2='1855.5547'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='178' x='402' y='1850.4888'>Signature Verification Failed</text><polygon fill='#000000' points='928,1880.6875,938,1884.6875,928,1888.6875,932,1884.6875' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='385' x2='934' y1='1884.6875' y2='1884.6875'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='121' x='392' y='1879.6216'>erase_partition_b()</text><line style='stroke:#000000;stroke-width:1.0;' x1='950' x2='992' y1='1913.8203' y2='1913.8203'/><line style='stroke:#000000;stroke-width:1.0;' x1='992' x2='992' y1='1913.8203' y2='1926.8203'/><line style='stroke:#000000;stroke-width:1.0;' x1='951' x2='992' y1='1926.8203' y2='1926.8203'/><polygon fill='#000000' points='961,1922.8203,951,1926.8203,961,1930.8203,957,1926.8203' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='139' x='957' y='1908.7544'>Clear Invalid Firmware</text><polygon fill='#000000' points='145,1951.9531,135,1955.9531,145,1959.9531,141,1955.9531' style='stroke:#000000;stroke-width:1.0;'/><line style='stroke:#000000;stroke-width:1.0;' x1='139' x2='374' y1='1955.9531' y2='1955.9531'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='210' x='151' y='1950.8872'>update_failed_invalid_signature()</text><path d='M292,1968.9531 L292,2008.9531 L468,2008.9531 L468,1978.9531 L458,1968.9531 L292,1968.9531 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><path d='M458,1968.9531 L458,1978.9531 L468,1978.9531 L458,1968.9531 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='120' x='298' y='1986.02'>Security preserved</text><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='155' x='298' y='2001.1528'>Invalid firmware rejected</text><path d='M64,2026.2188 L64,2066.2188 L1861,2066.2188 L1861,2036.2188 L1851,2026.2188 L64,2026.2188 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><path d='M1851,2026.2188 L1851,2036.2188 L1861,2036.2188 L1851,2026.2188 ' fill='#FFFFFF' style='stroke:#000000;stroke-width:1.0;'/><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='305' x='805.75' y='2043.2856'>Zero-downtime updates with automatic rollback</text><text fill='#000000' font-family='Verdana' font-size='13' lengthAdjust='spacing' textLength='272' x='805.75' y='2058.4185'>Cryptographic security throughout process</text></g></svg>