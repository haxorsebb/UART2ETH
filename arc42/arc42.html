<!doctype html>
<html lang="de">
<head>
    
    <!-- sourceuri: arc42/arc42.html -->
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="jbake" name="generator">
    <meta content="INDEX, FOLLOW" name="ROBOTS">

    <title>image:arc42-logo.png[arc42] Template</title>
    <meta content="docToolchain" property="og:title">
    <meta content="build your dev docs the easy way..." property="og:description">
    <meta content="website" property="og:type">
    <meta content="docToolchain" property="og:site_name">
    <meta content="docToolchain" itemprop="name">
    <meta content="build your dev docs the easy way..." itemprop="description">
    <meta content="summary" name="twitter:card">
    <meta content="docToolchain" name="twitter:title">
    <meta content="build your dev docs the easy way..." name="twitter:description">

    <link as="style"
        href="../css/main.min.881fe5f7b53609f55ebfb496c7097c3b30b2e8ceb20a54bc6a48350ded67224f.css"
        rel="preload">
    <link href="../css/main.min.881fe5f7b53609f55ebfb496c7097c3b30b2e8ceb20a54bc6a48350ded67224f.css"
        integrity=""
        rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">

    <!-- favicon generated with https://www.favicon-generator.org/ -->
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="../apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
    <link rel="manifest" href="../manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <script src="../js/jquery-3.5.1.min.js"></script>
    <style>
    div.bg-light {
        background-color: rgba(127, 180, 224, 0.3) !important;
    }

    /* for blog posts */
    span.blogtag {
        border-radius: 10px;
        background-color: #30638E;
        color: white;
        padding: 5px 10px;
    }

    span.blogblogtag a {
        color: white;
        padding: 0
    }

    span.blogtag span {
        margin-left: 10px;
        border-radius: 10px;
        background-color: white;
        color: #30638E;
    }

    div.td-toc {
        height: calc(100vh - 5rem) !important;
    }

    div#toctitle {
        display: none
    }

    #td-section-nav {
        max-height: calc(100vh - 4rem);
        font-size: smaller;
        line-height: 1.1;
    }

    .td-page-meta {
        font-size: smaller;
        line-height: 1.1;
    }

    #td-section-nav ul.td-sidebar-nav__section {
        padding-left: 0;
    }

    span.navbar-logo {
        padding-right: 1.5em;
    }

    .match {
        font-size: smaller;
    }

    .admonitionblock td.icon .fa:before {
        font-size: xxx-large;
    }
    </style>

    <style>
    div.openblock.primary div.content, div.openblock.secondary div.content {
        border: 1px solid #7a2518;
        padding: 5px;
    }

    div.openblock.primary div.content div.content, div.openblock.secondary div.content div.content {
        border: 0 solid #7a2518;
        padding: 0;
    }

    .hidden {
        display: none;
    }

    .switch {
        border-width: 1px 1px 0 1px;
        border-style: solid;
        border-color: #7a2518;
        display: inline-block;
    }

    .switch--item {
        padding: 2px 10px;
        background-color: #ffffff;
        color: #7a2518;
        display: inline-block;
        cursor: pointer;
    }

    .switch--item:not(:first-child) {
        border-width: 0 0 0 1px;
        border-style: solid;
        border-color: #7a2518;
    }

    .switch--item.selected {
        background-color: #7a2519;
        color: #ffffff;
    }
    </style>

    <!-- copy-n-paste.js -->
    <style>
        div.listingblock {
            position: relative;
        }
        div.listingblock > span.icon {
            position: absolute;
            top: 2px;
            right: 6px;
            visibility: hidden;
            z-index: 2;
            cursor: pointer;
        }
        div.listingblock:hover > span.icon {
            visibility: visible;
        }
        div.listingblock div.content pre {
            margin: 0;
        }
    </style>
    <style>
        .td-sidebar-nav__section {
            padding-left: 9px;
        }
        details {
            margin-left: 10px;
        }
        summary {
            cursor: pointer;
            padding-left: 10px; /* Erhöhter linker Padding für den Pfeil */
            list-style: none;
            position: relative; /* Für absolute Positionierung des Pfeils */
        }
        summary::before {
            content: '>';
            position: absolute;
            left: 10px; /* Position des Pfeils */
            top: 50%;
            transform: translateY(-50%) translateX(-120%);
            transition: transform 0.3s;
        }
        details[open] > summary::before {
            transform: translateY(-50%) translateX(-120%) rotate(90deg);
        }
    </style>
</head>

<body onload="prettyPrint()" class="td-section">
<header>
	
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
    <a class="navbar-brand" href="../index.html">
        <span class="navbar-logo"><img src="../images/doctoolchain-logo-blue.png" alt="docToolchain" width="32px" /></span><span
            class="font-weight-bold">docToolchain</span>
    </a>
    <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
        <ul class="navbar-nav mt-2 mt-lg-0">
    <li class="nav-item mr-4 mb-2 mb-lg-0"><!--img src="../images/status.png" alt="status" width="16" height="16" onerror="this.style.display='none'"--></li>

            <li class="nav-item mr-4 mb-2 mb-lg-0">
                <a class="nav-link " href="../arc42/chapters/00_architecture_communication_canvas.html"><span>arc42</span></a>
            </li>

        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block" >
        <form action="../search.html">
        <input aria-label="Search this site…" autocomplete="off" class="form-control td-search-input"
               placeholder=" Search this site…" type="search" name="q">
        </form>
    </div>
</nav>

</header>
<div class="container-fluid td-outer">
	<div class="td-main">
		<div class="row flex-xl-nowrap">
			<div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
				<div class="td-sidebar__inner" id="td-sidebar-menu" >
					

        <form class="td-sidebar__search d-flex align-items-center d-lg-none" action="../search.html">

            <input aria-label="Search this site…" name="q" autocomplete="off" class="form-control td-search-input"
                   placeholder=" Search this site…" type="search">


            <button aria-controls="td-docs-nav" aria-expanded="false"
                    aria-label="Toggle section navigation" class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" data-target="#td-section-nav"
                    data-toggle="collapse" type="button">
            </button>
        </form>

        <nav aria-label="Submenu" class="collapse td-sidebar-nav" id="td-section-nav" >

            <ul class="td-sidebar-nav__section">
                <li class="td-sidebar-nav__section-title">
                    <span class="align-left pl-0 pr-2 pt-2 active td-sidebar-link td-sidebar-link__section">-</span>
                </li>
                <li>
                  <ul>
                      <li class="collapse show" id="docs">
                          
                        <ul class="td-sidebar-nav__section ul-0">
<details id="d92e87214a12aa80bb184e0d45bb68161"><summary><span class="label">arc42</span></summary>
                        <ul class="ul-1">
                            <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child">
                                <a class="align-left pl-0 pr-2 pt-2 td-sidebar-link td-sidebar-link__section active"
                                   href="../arc42/arc42.html" title="image:arc42-logo.png[arc42] Template">image:arc42-logo.png[arc42] Template</a>
                                
                            </li>
                        </ul></details>
                            <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child">
                                <a class="align-left pl-0 pr-2 pt-2 td-sidebar-link td-sidebar-link__section "
                                   href="../search.html" title="search">search</a>
                                
                            </li>
                        </ul>
                      </li>
                  </ul>
                <li>
        </nav>

				</div>
			</div>
			<div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
				<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
					

        <a href="##git-repo-url##/arc42/arc42.adoc"
           target="_blank"><i class="fa fa-edit fa-fw"></i> Improve this doc</a>


        <a href="##issue-url##?title=Docs%3A+Feedback+for+%27image%3Aarc42-logo.png%5Barc42%5D+Template%27&body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23page:%20##git-repo-url##/arc42/arc42.adoc%0A%23branch:%20main" target="_blank"><i
                class="fab fa-github fa-fw"></i> Create an issue</a>

        

        <hr />

        <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_template"><span class="image"><img src="../images/arc42-logo.png" alt="arc42"></span> Template</a></li>
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">1.1. Requirements Overview</a></li>
<li><a href="#_quality_goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholders">1.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a>
<ul class="sectlevel2">
<li><a href="#_technical_constraints">2.1. Technical Constraints</a></li>
<li><a href="#_organizational_constraints">2.2. Organizational Constraints</a></li>
<li><a href="#_economic_constraints">2.3. Economic Constraints</a></li>
<li><a href="#_regulatory_and_legal_constraints">2.4. Regulatory and Legal Constraints</a></li>
</ul>
</li>
<li><a href="#section-context-and-scope">3. Context and Scope</a>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_technical_context">3.2. Technical Context</a></li>
<li><a href="#_operating_mode_contexts">3.3. Operating Mode Contexts</a></li>
<li><a href="#_integration_architecture">3.4. Integration Architecture</a></li>
<li><a href="#_future_state_considerations">3.5. Future State Considerations</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_solution_approach_overview">4.1. Solution Approach Overview</a></li>
<li><a href="#_technology_strategy">4.2. Technology Strategy</a></li>
<li><a href="#_decomposition_strategy">4.3. Decomposition Strategy</a></li>
<li><a href="#_quality_achievement_strategy">4.4. Quality Achievement Strategy</a></li>
<li><a href="#_strategic_decisions_and_trade_offs">4.5. Strategic Decisions and Trade-offs</a></li>
<li><a href="#_implementation_strategy">4.6. Implementation Strategy</a></li>
<li><a href="#_risk_assessment_and_mitigation">4.7. Risk Assessment and Mitigation</a></li>
<li><a href="#_architecture_evolution_strategy">4.8. Architecture Evolution Strategy</a></li>
<li><a href="#_conclusion">4.9. Conclusion</a></li>
</ul>
</li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_whitebox_overall_system">5.1. Whitebox Overall System</a></li>
<li><a href="#_level_2">5.2. Level 2</a></li>
<li><a href="#_level_3">5.3. Level 3</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_system_startup_sequence">6.1. System Startup Sequence</a></li>
<li><a href="#_uart_to_tcp_data_flow">6.2. UART-to-TCP Data Flow</a></li>
<li><a href="#_tcp_to_uart_data_flow">6.3. TCP-to-UART Data Flow</a></li>
<li><a href="#_ring_buffer_cache_coherent_access_pattern">6.4. Ring Buffer Cache-Coherent Access Pattern</a></li>
<li><a href="#_ring_buffer_overflow_handling">6.5. Ring Buffer Overflow Handling</a></li>
<li><a href="#_watchdog_health_monitoring">6.6. Watchdog Health Monitoring</a></li>
<li><a href="#_network_connection_handling">6.7. Network Connection Handling</a></li>
<li><a href="#_hardware_in_the_loop_testing_scenario">6.8. Hardware-in-the-Loop Testing Scenario</a></li>
<li><a href="#_performance_and_timing_requirements">6.9. Performance and Timing Requirements</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_operational_requirements_summary">7.1. Operational Requirements Summary</a></li>
<li><a href="#_deployment_environments">7.2. Deployment Environments</a></li>
<li><a href="#_firmware_deployment_architecture">7.3. Firmware Deployment Architecture</a></li>
<li><a href="#_infrastructure_components">7.4. Infrastructure Components</a></li>
<li><a href="#_deployment_strategies">7.5. Deployment Strategies</a></li>
<li><a href="#_operational_procedures">7.6. Operational Procedures</a></li>
<li><a href="#_configuration_management">7.7. Configuration Management</a></li>
</ul>
</li>
<li><a href="#section-concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_protocol_filtering">8.1. Protocol Filtering</a></li>
<li><a href="#_web_management_interface">8.2. Web Management Interface</a></li>
<li><a href="#_error_handling_strategy">8.3. Error Handling Strategy</a></li>
<li><a href="#_security_architecture_2">8.4. Security Architecture</a></li>
<li><a href="#_configuration_management_2">8.5. Configuration Management</a></li>
<li><a href="#_performance_optimization">8.6. Performance Optimization</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a>
<ul class="sectlevel2">
<li><a href="#_hardware_platform_decisions">9.1. Hardware Platform Decisions</a></li>
<li><a href="#_software_platform_decisions">9.2. Software Platform Decisions</a></li>
<li><a href="#_implementation_strategy_decisions">9.3. Implementation Strategy Decisions</a></li>
<li><a href="#_decision_interdependencies">9.4. Decision Interdependencies</a></li>
</ul>
</li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
<li><a href="#_quality_scenarios_integration">10.3. Quality Scenarios Integration</a></li>
<li><a href="#_quality_scenario_priority_matrix">10.4. Quality Scenario Priority Matrix</a></li>
<li><a href="#_quality_requirements_summary">10.5. Quality Requirements Summary</a></li>
<li><a href="#_security_industrial_operation_balance">10.6. Security-Industrial Operation Balance</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a>
<ul class="sectlevel2">
<li><a href="#_risk_overview">11.1. Risk Overview</a></li>
<li><a href="#_detailed_risk_analysis">11.2. Detailed Risk Analysis</a></li>
<li><a href="#_technical_debt_register">11.3. Technical Debt Register</a></li>
<li><a href="#_risk_mitigation_plan">11.4. Risk Mitigation Plan</a></li>
<li><a href="#_risk_monitoring">11.5. Risk Monitoring</a></li>
<li><a href="#_risk_escalation_triggers">11.6. Risk Escalation Triggers</a></li>
</ul>
</li>
<li><a href="#section-glossary">12. Glossary</a></li>
</ul>
</div>




				</div>
			</div>
			<main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
				    <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
        <ol class="breadcrumb spb-1">
            <!--li aria-current="page" class="breadcrumb-item active">
                <a href="https://example.docsy.dev/docs/">Documentation</a>
            </li-->

        </ol>
    </nav>


    <div class="td-content">
        <p>
            
<div class="sect1">
<h2 id="_template"><span class="image"><img src="../images/arc42-logo.png" alt="arc42"></span> Template</h2>
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}
</style>
<div class="paragraph">
<p><strong>About arc42</strong></p>
</div>
<div class="paragraph lead">
<p>arc42, the template for documentation of software and system architecture.</p>
</div>
<div class="paragraph">
<p>Template Version 8.2 EN. (based upon AsciiDoc version), January 2023</p>
</div>
<div class="paragraph">
<p>Created, maintained and &#169; by Dr. Peter Hruschka, Dr. Gernot Starke and contributors.
See <a href="https://arc42.org" class="bare">https://arc42.org</a>.</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements Overview</h3>
<div class="sect3">
<h4 id="_purpose">1.1.1. Purpose</h4>
<div class="paragraph">
<p>UART2ETH provides a hardware and firmware solution for bridging UART interfaces to TCP sockets, enabling network connectivity for legacy industrial equipment and embedded systems.</p>
</div>
</div>
<div class="sect3">
<h4 id="_core_functional_requirements">1.1.2. Core Functional Requirements</h4>
<div class="paragraph">
<p><strong>Hardware Capabilities:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support up to 4 independent UART interfaces</p>
</li>
<li>
<p>10Mbit network interface with RJ45 connector</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Networking Features:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each UART exposed as individual TCP socket on dedicated port</p>
</li>
<li>
<p>Raw TCP socket communication for transparent data transmission</p>
</li>
<li>
<p>Support for concurrent connections (1 TCP connection per UART)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Operating Modes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Full Bridge Mode: Transparent UART-over-TCP for remote device connections</p>
</li>
<li>
<p>Gateway Mode: Add networking capabilities to existing products without firmware modifications</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Firmware Management:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Secure Over-The-Air (OTA) firmware updates</p>
</li>
<li>
<p>A/B update mechanism for rollback capability</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Protocol Optimization:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom pluggable serial protocol filters for efficient TCP packaging</p>
</li>
<li>
<p>Configurable packet caching with ring buffer implementation</p>
</li>
<li>
<p>Adjustable transmit timeouts for latency or bulk transfer optimization</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_target_use_cases">1.1.3. Target Use Cases</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Use Case</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legacy Equipment Integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connect PLCs, sensors, and measurement instruments to SCADA systems via network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infrastructure Problem Solving</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overcome noise and cable length limitations in industrial environments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add networking to existing products without custom development effort</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote Device Access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable distant connections to serial devices through Full Bridge mode</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_driving_forces">1.1.4. Driving Forces</h4>
<div class="paragraph">
<p><strong>Regulatory Compliance:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Western-only component supply chain for regulatory compliance</p>
</li>
<li>
<p>Anticipation of new regulations requiring updateable and auditable firmware</p>
</li>
<li>
<p>CE certification requirement for hardware</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Market Requirements:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Address gap left by discontinued commercial UART-to-TCP solutions</p>
</li>
<li>
<p>Provide open source alternative to expensive or black-box commercial products</p>
</li>
<li>
<p>Enable cost-effective networking solutions for system integrators</p>
</li>
<li>
<p>Substantial per-unit cost savings when deploying multiple units in-house compared to commercial alternatives</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Technical Requirements:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>500kBaud sustained throughput capability</p>
</li>
<li>
<p>Sub-5ms latency for real-time applications</p>
</li>
<li>
<p>Critical system uptime within environmental specifications</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<div class="paragraph">
<p>The following quality goals are prioritized by importance to our major stakeholders (industrial engineers and system integrators):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Concrete Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reliability</strong><br>
Critical system uptime for industrial applications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A UART2ETH device deployed in a manufacturing line must maintain continuous operation for the duration that the connected hardware operates within environmental specifications. System failure should not occur due to software issues during normal operation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance</strong><br>
Real-time data transmission capabilities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must sustain 500kBaud throughput with less than 5ms latency end-to-end. A PLC sending time-critical control data to a SCADA system must not experience delays that could affect industrial process control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Compatibility</strong><br>
Seamless integration with diverse industrial systems</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must work reliably with a broad range of custom baud rates and protocol parameters. It should reliably auto-negotiate ethernet connection parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Usability</strong><br>
Simple deployment without specialized knowledge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A system integrator with basic understanding of serial communication and TCP/IP should be able to deploy and configure the device without extensive training. Configuration should be straightforward with clear error messages for common misconfigurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Maintainability</strong><br>
Secure field updates without physical access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware updates must be deployable remotely via OTA mechanism with A/B rollback capability. A device installed in a remote location must be updatable without requiring on-site technician visits, while ensuring update integrity and system recovery from failed updates.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Contact</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Industrial Engineers</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End user organizations, manufacturing facilities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear documentation of network integration capabilities, performance specifications, and compatibility with existing industrial equipment. Need confidence in reliability and uptime guarantees.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>System Integrators</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Engineering consultancies, automation solution providers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comprehensive deployment guides, configuration documentation, and troubleshooting procedures. Expect regulatory compliance documentation (CE certification) and clear cost-benefit analysis.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Development Team</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal project contributors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detailed architectural decisions, coding standards, build procedures, and testing frameworks. Need clear module interfaces and dependencies for parallel development work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Hardware Engineers</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCB designers, component selection specialists</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware interface specifications, power requirements, environmental constraints, and component selection rationale. Need mechanical and electrical interface documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Field Technicians</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation and maintenance personnel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple installation procedures, diagnostic capabilities, and field troubleshooting guides. Need clear error indicators and recovery procedures for common failure modes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regulatory Authorities</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CE certification bodies, industrial standards organizations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compliance documentation, safety analysis, electromagnetic compatibility evidence, and audit trails for component sourcing and manufacturing processes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Open Source Community</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributors, adopters, derivative projects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear licensing terms (GPL), contribution guidelines, architectural documentation enabling modifications and extensions. Expect maintainable and well-documented code structure.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technical_constraints">2.1. Technical Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Hardware Platform</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must use RP2350 microcontroller as primary processing unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides required security features for OTA updates, sufficient processing power for 4 UART channels, and western supply chain compliance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Component Sourcing</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All components must be sourced from western suppliers only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regulatory compliance requirement for target markets and supply chain security considerations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance Requirements</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum 500kBaud sustained throughput with sub-5ms latency per UART channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial application requirements for real-time data transmission</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Network Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10Mbit Ethernet connectivity via SPI-based controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cost constraints and sufficient bandwidth for target applications while maintaining hardware simplicity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UART Channel Limit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum 4 independent UART interfaces</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware resource limitations of chosen microcontroller platform and cost optimization</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_organizational_constraints">2.2. Organizational Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Open Source License</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete system must be released under GPL license</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Leverage existing open source libraries and reduce implementation effort by reusing proven components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Development Process</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test-driven development (TDD) approach mandatory for all production code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality assurance and maintainability requirements for industrial application reliability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Documentation Standard</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Architecture documentation must follow arc42 template structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standardized documentation approach for future maintainers and contributors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Version Control</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GitHub-based development workflow with mandatory pull request reviews</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code quality control and collaborative development coordination</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_economic_constraints">2.3. Economic Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Hardware Cost</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware target price per unit must be significantly below commercially available solutions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Competitive market positioning requires substantial cost advantage to justify adoption over established commercial products</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Development Effort</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development effort must achieve return on investment within first year of deployment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource allocation constraint limits project scope and complexity to ensure economic viability and timely market entry</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_regulatory_and_legal_constraints">2.4. Regulatory and Legal Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CE Certification</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware must achieve CE compliance for European market</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legal requirement for commercial deployment in target markets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Firmware Security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must implement secure boot and signed firmware update mechanisms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anticipated regulatory requirements for updateable industrial devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EMC Compliance</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Electromagnetic compatibility requirements for industrial environments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regulatory requirement and operational necessity in electrically noisy industrial settings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Export Control</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No components or technologies subject to export restrictions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unrestricted distribution and deployment capability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Patent Avoidance</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must not infringe on existing patents in communication protocols or hardware interfaces</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legal risk mitigation and freedom to operate requirements</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-context-and-scope">3. Context and Scope</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_business_context">3.1. Business Context</h3>
<div class="imageblock">
<div class="content">
<img src="../images/system-context-business.svg" alt="system context business" width="1380" height="888">
</div>
</div>
<div class="sect3">
<h4 id="_primary_stakeholders">3.1.1. Primary Stakeholders</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Stakeholder</th>
<th class="tableblock halign-left valign-top">Role</th>
<th class="tableblock halign-left valign-top">Primary Business Interactions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial Engineers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solution designers and specifiers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define networking requirements for automation projects, specify UART2ETH configurations for integrating legacy equipment into modern networks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Integrators</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementation specialists</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deploy UART2ETH devices in customer facilities, configure networking parameters, integrate with existing SCADA and monitoring systems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field Technicians</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation and maintenance personnel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical installation of devices, diagnostic troubleshooting, basic configuration changes, routine maintenance procedures</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equipment Manufacturers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Original equipment makers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Embed UART2ETH into products to add networking capabilities, specify custom protocol filters, integrate with product lifecycle management</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_business_use_cases">3.1.2. Business Use Cases</h4>
<div class="paragraph">
<p><strong>Legacy Equipment Integration:</strong>
Industrial Engineers specify UART2ETH to network aging PLCs, sensors, and measurement instruments that lack modern connectivity. System Integrators deploy these solutions to extend equipment lifecycles and enable remote monitoring without costly equipment replacement.</p>
</div>
<div class="paragraph">
<p><strong>Infrastructure Problem Solving:</strong>
Field installations requiring long cable runs or operating in electrically noisy environments use UART2ETH to overcome serial communication limitations through network-based transmission.</p>
</div>
<div class="paragraph">
<p><strong>Remote Access Enablement:</strong>
SCADA systems and monitoring applications access distributed serial devices through UART2ETH bridges, enabling centralized control and data collection across geographically dispersed facilities.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technical_context">3.2. Technical Context</h3>
<div class="imageblock">
<div class="content">
<img src="../images/system-context-technical.svg" alt="system context technical" width="1357" height="1453">
</div>
</div>
<div class="sect3">
<h4 id="_technical_interface_specifications">3.2.1. Technical Interface Specifications</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Technical Details</th>
<th class="tableblock halign-left valign-top">Communication Pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART Ports (4x)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host System Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART/RS232/RS422, 300-500k baud, configurable parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bidirectional serial, protocol-agnostic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ethernet Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10BASE-TX, RJ45 connector, Auto-MDIX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/IP networking, DHCP/Static IP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP Sockets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ports configurable, single connection per port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP client connections, application protocols</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web UI (HTTP), configuration interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP, JSON configuration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA Update Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure update server, A/B partition management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP, signed firmware images</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_communication_protocols_and_data_formats">3.2.2. Communication Protocols and Data Formats</h4>
<div class="paragraph">
<p><strong>UART Communication:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Raw serial data transmission (protocol-agnostic)</p>
</li>
<li>
<p>Configurable baud rates: 300 bps to 500 kbps</p>
</li>
<li>
<p>Support for custom frame formats and timing requirements</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Network Communication:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>TCP socket connections for data transmission</p>
</li>
<li>
<p>JSON for configuration and management data</p>
</li>
<li>
<p>Binary protocol passthrough with optional filtering</p>
</li>
<li>
<p>HTTP for management and OTA updates</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Network Protocols:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>IPv4 with DHCP or static configuration</p>
</li>
<li>
<p>NTP for time synchronization</p>
</li>
<li>
<p>DNS for name resolution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_operating_mode_contexts">3.3. Operating Mode Contexts</h3>
<div class="sect3">
<h4 id="_gateway_mode_context">3.3.1. Gateway Mode Context</h4>
<div class="imageblock">
<div class="content">
<img src="../images/gateway-mode-context.svg" alt="gateway mode context" width="710" height="720">
</div>
</div>
<div class="paragraph">
<p><strong>Gateway Mode Data Flow:</strong>
1. Host System sends serial data using original protocol to UART2ETH
2. UART2ETH receives serial data and applies protocol filtering/optimization
3. Processed data is transmitted to Client Systems via TCP sockets
4. Client Systems send responses back through TCP connections
5. UART2ETH forwards responses to Host System via UART interface</p>
</div>
</div>
<div class="sect3">
<h4 id="_full_bridge_mode_context">3.3.2. Full Bridge Mode Context</h4>
<div class="imageblock">
<div class="content">
<img src="../images/bridge-mode-context.svg" alt="bridge mode context" width="689" height="834">
</div>
</div>
<div class="paragraph">
<p><strong>Full Bridge Mode Data Flow:</strong>
1. Host System A sends serial data to UART2ETH A
2. UART2ETH A encapsulates serial data in TCP packets and transmits over network
3. UART2ETH B receives TCP packets and extracts original serial data
4. UART2ETH B forwards serial data to Host System B via UART
5. Bidirectional communication maintains transparent serial connection</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_integration_architecture">3.4. Integration Architecture</h3>
<div class="sect3">
<h4 id="_critical_dependencies">3.4.1. Critical Dependencies</h4>
<div class="paragraph">
<p><strong>Network Infrastructure Dependencies:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reliable Ethernet connectivity for TCP/IP communication</p>
</li>
<li>
<p>Network switches with appropriate bandwidth and latency characteristics</p>
</li>
<li>
<p>DHCP services for automatic IP configuration (or static IP management)</p>
</li>
<li>
<p>Network time synchronization for accurate timestamping</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Power and Environmental Dependencies:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>3.3V-24V power supply within industrial specifications</p>
</li>
<li>
<p>Operating temperature range suitable for industrial environments</p>
</li>
<li>
<p>Protection from electromagnetic interference in industrial settings</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Security Dependencies:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Network firewall configuration to allow necessary TCP ports</p>
</li>
<li>
<p>Firmware signing infrastructure for secure OTA updates</p>
</li>
<li>
<p>Network segmentation appropriate for industrial security requirements</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_security_and_compliance_boundaries">3.4.2. Security and Compliance Boundaries</h4>
<div class="paragraph">
<p><strong>Network Security:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cryptographic signatures for firmware validation and integrity</p>
</li>
<li>
<p>Configurable TCP port ranges to support firewall policies</p>
</li>
<li>
<p>Input validation and sanitization for all network interfaces</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Industrial Compliance:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>CE certification for European industrial markets</p>
</li>
<li>
<p>Electromagnetic compatibility (EMC) for industrial environments</p>
</li>
<li>
<p>Component sourcing from Western suppliers for regulatory compliance</p>
</li>
<li>
<p>Audit trail for firmware updates and configuration changes</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_performance_and_scalability_characteristics">3.4.3. Performance and Scalability Characteristics</h4>
<div class="paragraph">
<p><strong>Performance Requirements:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>500 kbps sustained throughput per UART port</p>
</li>
<li>
<p>Sub-5ms end-to-end latency for real-time applications</p>
</li>
<li>
<p>Concurrent TCP connections (one per UART port)</p>
</li>
<li>
<p>Configurable buffering for latency vs. throughput optimization</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Scalability Considerations:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Up to 4 simultaneous UART-to-TCP bridges per device</p>
</li>
<li>
<p>Network deployment limited by IP address availability and network bandwidth</p>
</li>
<li>
<p>Protocol filtering reduces network traffic for efficient bulk transfers</p>
</li>
<li>
<p>A/B firmware updates enable fleet-wide updates without service interruption</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_future_state_considerations">3.5. Future State Considerations</h3>
<div class="sect3">
<h4 id="_planned_integrations">3.5.1. Planned Integrations</h4>
<div class="paragraph">
<p><strong>Enhanced Protocol Support:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Additional protocol filters for common industrial protocols (Modbus, DNP3, IEC 61850)</p>
</li>
<li>
<p>HTTPS/TLS on-the-wire encryption</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced Management Features:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Integration with network management systems (SNMP, NETCONF)</p>
</li>
<li>
<p>Enhanced diagnostic and monitoring capabilities</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_solution_approach_overview">4.1. Solution Approach Overview</h3>
<div class="paragraph">
<p><strong>Fundamental Architecture: Dual-Core Separation + Interrupts/DMA</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/solution-strategy-overview.svg" alt="solution strategy overview" width="752" height="1420">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technology_strategy">4.2. Technology Strategy</h3>
<div class="sect3">
<h4 id="_core_technology_decisions">4.2.1. Core Technology Decisions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Technology Area</th>
<th class="tableblock halign-left valign-top">Strategic Decision &amp; Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Architecture Pattern</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual-core separation with interrupt/DMA - provides fault isolation while achieving hardware-driven performance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Programming Language</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C with Native Pico SDK - leverages team expertise, provides full platform access, enables deterministic behavior</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Memory Management</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static allocation only - enables industrial reliability through predictable behavior, no dynamic allocation risks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inter-Core Communication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache-aligned ring buffers with mutexes - optimal performance with deterministic behavior</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ethernet Controller</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENC28J60 with software TCP/IP - "dumb" controller enables full code auditability and control</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_communication_architecture">4.2.2. Communication Architecture</h4>
<div class="paragraph">
<p><strong>Ring Buffer Design:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">// Each entry = 1 cache line (64 bytes base + 1024 payload)
typedef struct {
    // Management Data (16 bytes)
    uint8_t  uart_channel;     // 0-3
    uint8_t  direction;        // TX/RX
    uint8_t  status;           // FILLING/DRAINING/FULL/EMPTY
    uint8_t  payload_length;   // Actual data length
    uint32_t timestamp;        // Fill timestamp
    uint32_t sequence_id;      // For ordering/debugging
    uint32_t reserved;         // Future use/alignment

    // Payload Data (1024 bytes max)
    uint8_t  payload[1024];    // Fixed max size for worst case
} ring_entry_t;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Memory Allocation Strategy:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Buffer Size: <code>(total_mem - static_vars) / sizeof(ring_entry_t) - 1</code> entries</p>
</li>
<li>
<p>Cache Aligned: No core contention, optimal performance</p>
</li>
<li>
<p>Overflow Policy: Drop oldest packets (deterministic, simple)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_decomposition_strategy">4.3. Decomposition Strategy</h3>
<div class="sect3">
<h4 id="_system_decomposition_approach">4.3.1. System Decomposition Approach</h4>
<div class="paragraph">
<p><strong>Dual-core functional separation</strong> - Each core specializes in distinct responsibilities with clean interfaces through shared memory ring buffers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_major_componentsservices">4.3.2. Major Components/Services</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component/Service</th>
<th class="tableblock halign-left valign-top">Responsibilities</th>
<th class="tableblock halign-left valign-top">Key Interfaces</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Core 0 UART Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All 4 UART interfaces, interrupt/DMA handling, stream-to-packet conversion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware UARTs, Ring buffer producer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Core 1 Network Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/IP stack, ENC28J60 control, packet-to-network conversion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ring buffer consumer, SPI to ENC28J60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer System</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inter-core communication, cache-aligned data transfer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shared memory + mutex interfaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HTTP Management UI</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device configuration, diagnostics, OTA trigger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP server on Core 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OTA Update System</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure firmware updates, A/B partition management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure boot, flash management</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_component_interaction_strategy">4.3.3. Component Interaction Strategy</h4>
<div class="imageblock">
<div class="content">
<img src="../images/component-interaction.svg" alt="component interaction" width="777" height="581">
</div>
</div>
<div class="paragraph">
<p><strong>Interaction Principles:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core 0 → Ring Buffer: UART streams converted to fixed-size packets, cache-aligned writes</p>
</li>
<li>
<p>Ring Buffer → Core 1: Packet consumption for TCP transmission</p>
</li>
<li>
<p>Overflow Policy: Drop oldest packets (deterministic, simple)</p>
</li>
<li>
<p>Priority: UART processing takes priority over HTTP UI</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_achievement_strategy">4.4. Quality Achievement Strategy</h3>
<div class="sect3">
<h4 id="_quality_goal_implementation">4.4.1. Quality Goal Implementation</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Architectural Mechanisms</th>
<th class="tableblock halign-left valign-top">Validation Approach</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reliability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Core separation, static allocation, deterministic behavior, drop-oldest overflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extended operation testing, fault injection, environmental testing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Compatibility</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol-agnostic packet handling, configurable UART parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Testing with diverse industrial protocols, auto-negotiation validation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interrupt/DMA driven I/O, cache-aligned buffers, hardware-optimized data paths</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sustained 500kBaud testing, latency measurements, stress testing</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_cross_cutting_concerns_strategy">4.4.2. Cross-Cutting Concerns Strategy</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cross-Cutting Concern</th>
<th class="tableblock halign-left valign-top">Implementation Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Error Handling</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graceful degradation, fault isolation between cores, deterministic error responses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Memory Management</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static allocation only, pre-calculated buffer sizes, cache-aligned data structures</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure OTA updates, A/B partitioning, auditable code paths</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Testing</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host-based testing with abstracted semaphores, hardware-in-the-loop validation</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_strategic_decisions_and_trade_offs">4.5. Strategic Decisions and Trade-offs</h3>
<div class="sect3">
<h4 id="_major_architectural_decisions">4.5.1. Major Architectural Decisions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Decision</th>
<th class="tableblock halign-left valign-top">Rationale</th>
<th class="tableblock halign-left valign-top">Trade-offs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dual-Core Separation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fault isolation + performance, leverages RP2350 capabilities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Increased complexity vs single-core simplicity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Fixed 1024-byte Packets</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deterministic behavior, handles worst-case scenarios</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96% memory waste (avg 40 bytes vs 1024 max) accepted for simplicity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Drop-Oldest Overflow</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deterministic, reliable behavior under overload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data loss vs flow control complexity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cache-Aligned Buffers</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optimal inter-core performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory overhead vs efficiency</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_key_trade_off_fixed_packet_size_inefficiency">4.5.2. Key Trade-off: Fixed Packet Size Inefficiency</h4>
<div class="paragraph">
<p><strong>The Challenge:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Realistic scenario: Max=1024 bytes, Average=40 bytes → 96% memory waste</p>
</li>
<li>
<p>Risk: Significant resource inefficiency in typical use cases</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Mitigation Rationale:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sub-5ms latency requirement limits buffering depth anyway (~2-3 packets maximum)</p>
</li>
<li>
<p>Total waste limited: 4 UARTs × 3 packets × 1024 bytes = ~12KB (acceptable in 520KB system)</p>
</li>
<li>
<p>Implementation simplicity enables reliable delivery</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Future Optimization Path:</strong></p>
</div>
<div class="paragraph">
<p>Protocol-aware multi-pool approach documented for later enhancement:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Small Pool: 64-byte entries (for ≤40 byte packets)</p>
</li>
<li>
<p>Medium Pool: 256-byte entries (for 41-200 byte packets)</p>
</li>
<li>
<p>Large Pool: 1024-byte entries (for 201-1024 byte packets)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternative_approaches_considered">4.5.3. Alternative Approaches Considered</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Alternative</th>
<th class="tableblock halign-left valign-top">Why Not Selected</th>
<th class="tableblock halign-left valign-top">Key Insight</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Single-Core Design</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cannot achieve 4-UART + network performance simultaneously</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Core separation essential for real-time requirements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dynamic Memory Allocation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conflicts with industrial reliability requirements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static allocation mandatory for predictable behavior</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>W5500 Ethernet Controller</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware TCP/IP stack not auditable, conflicts with compliance goals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Dumb" controller enables full code control</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_implementation_strategy">4.6. Implementation Strategy</h3>
<div class="sect3">
<h4 id="_development_approach">4.6.1. Development Approach</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Implementation Aspect</th>
<th class="tableblock halign-left valign-top">Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Development Methodology</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test-driven development with host-based testing using abstracted semaphores</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Testing Strategy</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host simulation with pthread/threads, then hardware validation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single UART + single TCP proof-of-concept first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Platform Abstraction</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abstract semaphores/mutexes for host testing: <code>platform_mutex_t</code>, <code>platform_semaphore_t</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_implementation_phases">4.6.2. Implementation Phases</h4>
<div class="imageblock">
<div class="content">
<img src="../images/implementation-phases.svg" alt="implementation phases" width="407" height="320">
</div>
</div>
<div class="paragraph">
<p><strong>Phase 1: Proof of Concept</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Single UART + Single TCP socket</p>
</li>
<li>
<p>Mock ring buffer with abstracted semaphores</p>
</li>
<li>
<p>Host-based testing with thread simulation</p>
</li>
<li>
<p>Validate core architecture concepts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Phase 2: Full System Implementation</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>All 4 UARTs on Core 0</p>
</li>
<li>
<p>Complete ring buffer system</p>
</li>
<li>
<p>Full TCP/IP integration on Core 1</p>
</li>
<li>
<p>HTTP management UI</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Phase 3: Advanced Features</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Secure OTA implementation</p>
</li>
<li>
<p>A/B update mechanism</p>
</li>
<li>
<p>Industrial hardening and optimization</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_validation_and_success_metrics">4.6.3. Validation and Success Metrics</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Milestone</th>
<th class="tableblock halign-left valign-top">Success Criteria</th>
<th class="tableblock halign-left valign-top">Validation Method</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer Validation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concurrent producer/consumer without data corruption</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host-based stress testing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance Achievement</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500kBaud sustained, &lt;5ms latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware-in-the-loop measurement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reliability Demonstration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24+ hour continuous operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extended testing under load</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_risk_assessment_and_mitigation">4.7. Risk Assessment and Mitigation</h3>
<div class="sect3">
<h4 id="_strategic_risks">4.7.1. Strategic Risks</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Risk</th>
<th class="tableblock halign-left valign-top">Probability/Impact</th>
<th class="tableblock halign-left valign-top">Mitigation Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Fixed Packet Size Inefficiency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High/Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Document multi-pool optimization path, validate memory usage early</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inter-Core Communication Complexity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium/High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prove with host-based testing first, extensive validation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance Under Load</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium/High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Early prototyping, stress testing, hardware validation</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_architecture_evolution_strategy">4.8. Architecture Evolution Strategy</h3>
<div class="sect3">
<h4 id="_future_optimization_path">4.8.1. Future Optimization Path</h4>
<div class="paragraph">
<p><strong>Protocol-Aware Enhancements:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multi-pool buffer management for memory efficiency</p>
</li>
<li>
<p>Protocol-specific packet sizing based on message type analysis</p>
</li>
<li>
<p>Dynamic buffer allocation per UART based on usage patterns</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Security and Compliance Evolution:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enhanced security features for evolving compliance requirements</p>
</li>
<li>
<p>Extended audit trail capabilities</p>
</li>
<li>
<p>Additional cryptographic features as regulations develop</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Performance Optimizations:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fine-tuned based on real-world deployment data</p>
</li>
<li>
<p>Protocol filter optimizations</p>
</li>
<li>
<p>Network stack performance improvements</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_success_factors">4.8.2. Success Factors</h4>
<div class="paragraph">
<p><strong>Critical Dependencies:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Early validation of ring buffer architecture with host-based testing</p>
</li>
<li>
<p>Incremental implementation starting with single UART proof-of-concept</p>
</li>
<li>
<p>Comprehensive testing at each phase before proceeding</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Key Assumptions:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>RP2350 dual-core performance meets concurrent processing requirements</p>
</li>
<li>
<p>Cache-aligned ring buffers provide sufficient inter-core bandwidth</p>
</li>
<li>
<p>Static memory allocation provides adequate resource management</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Monitoring and Adaptation:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Continuous validation of memory efficiency in real deployments</p>
</li>
<li>
<p>Performance monitoring under various industrial load scenarios</p>
</li>
<li>
<p>Regular assessment of compliance requirement evolution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion">4.9. Conclusion</h3>
<div class="paragraph">
<p>This solution strategy establishes UART2ETH as an <strong>"unbreakable foundation with field-updateable capability"</strong> through:</p>
</div>
<div class="paragraph">
<p><strong>Core Architectural Principles:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reliability-first dual-core separation</p>
</li>
<li>
<p>Static allocation for predictable behavior</p>
</li>
<li>
<p>Hardware-driven performance with software control</p>
</li>
<li>
<p>Protocol-agnostic flexibility</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Strategic Advantages:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fault isolation enables industrial reliability</p>
</li>
<li>
<p>Deterministic behavior supports real-time requirements</p>
</li>
<li>
<p>Full code auditability meets compliance needs</p>
</li>
<li>
<p>Incremental implementation reduces development risk</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Success Enablers:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>TDD approach with host-based validation</p>
</li>
<li>
<p>Clear module boundaries for team development</p>
</li>
<li>
<p>Documented optimization paths for future enhancement</p>
</li>
<li>
<p>Strong foundation for scaling and feature evolution</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The strategy balances immediate reliability requirements with long-term flexibility, ensuring UART2ETH can serve as a robust industrial networking solution while maintaining the ability to evolve with changing requirements and regulations.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whitebox_overall_system">5.1. Whitebox Overall System</h3>
<div class="paragraph">
<p>The UART2ETH system follows a dual-core separation strategy that provides fault isolation while achieving hardware-driven performance. The system is decomposed into ten major building blocks that each handle distinct responsibilities in the UART-to-TCP bridge functionality.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level1-building-blocks-simple.svg" alt="level1 building blocks simple" width="1645" height="886">
</div>
</div>
<div class="sect3">
<h4 id="_motivation">5.1.1. Motivation</h4>
<div class="paragraph">
<p>The dual-core separation strategy from our solution approach drives this decomposition to achieve:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Fault isolation</strong>: Each core has distinct responsibilities to prevent cascading failures</p>
</li>
<li>
<p><strong>Performance optimization</strong>: Hardware-driven I/O with software control for real-time requirements</p>
</li>
<li>
<p><strong>Industrial reliability</strong>: Predictable behavior through static allocation and deterministic interfaces</p>
</li>
<li>
<p><strong>Bidirectional communication</strong>: Both UART and TCP interfaces require full-duplex operation</p>
</li>
<li>
<p><strong>System coordination</strong>: Global state machine ensures consistent system behavior across cores</p>
</li>
<li>
<p><strong>Comprehensive monitoring</strong>: Log Manager with performance data collection provides visibility and diagnostics</p>
</li>
<li>
<p><strong>Configuration persistence</strong>: Configuration Manager ensures settings survive power cycles and support factory operations</p>
</li>
<li>
<p><strong>Predictable maintenance</strong>: Periodic background processing ensures system housekeeping at regular intervals</p>
</li>
<li>
<p><strong>Automatic recovery</strong>: Watchdog system provides fault detection and recovery capabilities</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_contained_building_blocks">5.1.2. Contained Building Blocks</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Core 0 UART Subsystem</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages all 4 UART interfaces with interrupt/DMA handling. Performs bidirectional stream-to-packet conversion for communication with the ring buffer system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Core 1 Network Subsystem</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implements TCP/IP stack and Ethernet controller interface with interrupt/DMA handling. Copies packets from and to the network stack and manages TCP socket connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer Communication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides bidirectional inter-core data transfer using a shared memory pool with cache-aligned, mutex-protected buffers. Handles dynamic burst allocation by being channel and driection agnostic.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Management Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Offers web-based configuration, monitoring, and administration through HTTP server with authentication, statistics collection, and configuration UIs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OTA Update System</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages secure firmware updates with A/B partition management, signature validation, and automatic rollback capabilities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Global State Machine</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinates overall system state across both cores including boot sequence, operational modes, error handling, and update states. Provides centralized state synchronization and transition control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Log Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collects, formats, and stores system-wide events, errors, performance data, and diagnostic information from all components. Provides log rotation, filtering, and integration with management interface for diagnostics.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Configuration Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages persistent storage of all system settings including UART parameters, network configuration, user preferences, and system options. Provides factory defaults, parameter validation, configuration versioning, and backup/restore functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Periodic Background Process</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes system maintenance tasks every 100ms including statistics collection, connection cleanup, buffer maintenance, session management, configuration backup, and system health checks.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Watchdog System</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monitors system health through heartbeat signals from all major components. Detects failures, logs recovery events, and triggers automatic system recovery or reset when necessary.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_important_interfaces">5.1.3. Important Interfaces</h4>
<div class="sect4">
<h5 id="_ring_buffer_interface">Ring Buffer Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Shared Pool Design</strong>: Single buffer pool serves both directions dynamically</p>
</li>
<li>
<p><strong>Core 0</strong>: Producer (UART RX) + Consumer (UART TX) using shared pool</p>
</li>
<li>
<p><strong>Core 1</strong>: Producer (TCP RX) + Consumer (TCP TX) using shared pool</p>
</li>
<li>
<p><strong>Entry Format</strong>: Fixed 1088-byte entries (64-byte header + 1024-byte payload)</p>
</li>
<li>
<p><strong>Synchronization</strong>: Mutex-protected operations for shared pool access</p>
</li>
<li>
<p><strong>Overflow Policy</strong>: Drop-oldest across entire pool (direction-agnostic)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_network_interface">Network Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>External</strong>: 10BASE-T Ethernet, RJ45 connector (ENC28J60 limitation)</p>
</li>
<li>
<p><strong>Internal</strong>: SPI to ENC28J60 controller, software TCP/IP stack (lwIP)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_uart_interface">UART Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Hardware</strong>: 4 independent UART channels with configurable parameters</p>
</li>
<li>
<p><strong>Protocols</strong>: UART/RS232/RS422 support with 300-500kBaud range</p>
</li>
<li>
<p><strong>Configuration</strong>: Per-channel baud rate, data bits, stop bits, parity settings</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_global_state_machine_interface">Global State Machine Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>States</strong>: BOOT, INITIALIZING, OPERATIONAL, ERROR, UPDATE_MODE, RECOVERY</p>
</li>
<li>
<p><strong>Inter-core</strong>: Shared state variables with atomic updates and cache coherency</p>
</li>
<li>
<p><strong>Transitions</strong>: Event-driven state changes with validation and rollback capability</p>
</li>
<li>
<p><strong>Synchronization</strong>: Cross-core state synchronization using FreeRTOS primitives</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_logging_interface">Logging Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Log Levels</strong>: DEBUG, INFO, WARN, ERROR, CRITICAL with configurable filtering</p>
</li>
<li>
<p><strong>Storage</strong>: Circular buffer in RAM with optional flash persistence</p>
</li>
<li>
<p><strong>Format</strong>: Structured logging with timestamps, component ID, and severity</p>
</li>
<li>
<p><strong>Performance Data</strong>: Throughput metrics, latency measurements, resource utilization</p>
</li>
<li>
<p><strong>Access</strong>: Real-time log streaming via management interface</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_configuration_manager_interface">Configuration Manager Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Storage</strong>: Persistent flash storage with wear leveling and redundancy</p>
</li>
<li>
<p><strong>Settings Categories</strong>: UART parameters, network config, user accounts, system options</p>
</li>
<li>
<p><strong>Validation</strong>: Parameter range checking, conflict detection, dependency validation</p>
</li>
<li>
<p><strong>Factory Reset</strong>: Restore to known-good defaults with version migration</p>
</li>
<li>
<p><strong>Backup/Restore</strong>: Configuration export/import for deployment and recovery</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_periodic_process_interface">Periodic Process Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Timer</strong>: Hardware timer interrupt every 100ms (10Hz frequency)</p>
</li>
<li>
<p><strong>Task Queue</strong>: Priority-based maintenance task scheduling</p>
</li>
<li>
<p><strong>Execution</strong>: Non-blocking operations with bounded execution time</p>
</li>
<li>
<p><strong>Health Reports</strong>: Regular status updates to watchdog system</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_watchdog_interface">Watchdog Interface</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Heartbeat</strong>: Component-specific periodic health signals</p>
</li>
<li>
<p><strong>Thresholds</strong>: Configurable timeout values per monitored component</p>
</li>
<li>
<p><strong>Recovery Actions</strong>: Graduated response from warnings to system reset</p>
</li>
<li>
<p><strong>Hardware Integration</strong>: RP2350 hardware watchdog timer as final safety net</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_2">5.2. Level 2</h3>
<div class="sect3">
<h4 id="_whitebox_core_0_uart_subsystem">5.2.1. Whitebox Core 0 UART Subsystem</h4>
<div class="paragraph">
<p>The Core 0 UART Subsystem specializes in handling all UART communication with dedicated hardware management, interrupt processing, and bidirectional data conversion between stream and packet formats.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level2-core0-uart-simple.svg" alt="level2 core0 uart simple" width="1509" height="681">
</div>
</div>
<div class="sect4">
<h5 id="_motivation_2">Motivation</h5>
<div class="paragraph">
<p>Core 0 specialization enables real-time UART processing without interference from network operations. The bidirectional packet conversion allows seamless translation between continuous UART streams and discrete network packets.</p>
</div>
</div>
<div class="sect4">
<h5 id="_contained_building_blocks_2">Contained Building Blocks</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UART Hardware Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Direct control of 4 UART channels with configurable parameters (baud rate, data bits, parity). Manages hardware registers and status monitoring.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Interrupt Handler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processes time-critical UART events (RX data available, TX buffer empty) with minimal latency for real-time performance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DMA Controller</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optimizes bulk data transfers in both directions to reduce CPU load and improve throughput for high-baud applications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Assembler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts incoming UART streams into fixed-size packets for ring buffer storage. Handles framing and timestamp metadata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Disassembler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extracts UART data from ring buffer packets and converts back to continuous streams for transmission.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides producer operations (UART RX data) and consumer operations (UART TX data) with proper synchronization.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_core_1_network_subsystem">5.2.2. Whitebox Core 1 Network Subsystem</h4>
<div class="paragraph">
<p>The Core 1 Network Subsystem manages all network communication including TCP/IP protocol processing, Ethernet controller interface, and bidirectional packet routing between ring buffer and network clients.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level2-core1-network-simple.svg" alt="level2 core1 network simple" width="1517" height="1280">
</div>
</div>
<div class="sect4">
<h5 id="_motivation_3">Motivation</h5>
<div class="paragraph">
<p>Core 1 specialization allows network processing to operate independently from time-critical UART operations. The modular design enables efficient TCP/IP processing while maintaining clear separation between hardware drivers and application logic.</p>
</div>
</div>
<div class="sect4">
<h5 id="_contained_building_blocks_3">Contained Building Blocks</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lwIP TCP/IP Stack</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete software-based TCP/IP implementation providing standard network protocols and socket interfaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ENC28J60 Driver</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low-level SPI driver for the 10BASE-T Ethernet controller, handling frame transmission and reception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Socket Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages TCP socket connections with one dedicated socket per UART channel. Handles connection lifecycle and error recovery.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Router</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maps UART channel numbers to TCP port numbers and routes data bidirectionally between network and ring buffer interfaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Assembler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts incoming TCP data streams into ring buffer packets for transmission to Core 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Disassembler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extracts data from ring buffer packets and formats for TCP transmission to network clients.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides producer operations (TCP RX data) and consumer operations (TCP TX data) with shared pool access.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_ring_buffer_communication_system">5.2.3. Whitebox Ring Buffer Communication System</h4>
<div class="paragraph">
<p>The Ring Buffer Communication System provides the critical inter-core communication mechanism using a shared memory pool that dynamically handles bursts from either direction while maintaining deterministic behavior.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level2-ring-buffer-simple.svg" alt="level2 ring buffer simple" width="741" height="1004">
</div>
</div>
<div class="sect4">
<h5 id="_motivation_4">Motivation</h5>
<div class="paragraph">
<p>The shared buffer pool design provides elegant burst handling by allowing dynamic allocation to whichever direction needs capacity. This approach is more efficient than fixed per-direction pools and gracefully handles real-world traffic patterns.</p>
</div>
</div>
<div class="sect4">
<h5 id="_contained_building_blocks_4">Contained Building Blocks</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Shared Buffer Pool</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single memory pool that dynamically serves both UART→TCP and TCP→UART directions with fixed-size entries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mutex Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides thread-safe access to the shared pool using FreeRTOS mutexes and semaphores for inter-core synchronization.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Memory Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles allocation and deallocation of fixed-size buffer entries with cache-aligned addressing for optimal performance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Overflow Handler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implements drop-oldest policy when buffer reaches capacity, ensuring deterministic behavior under overload conditions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Statistics Collector</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tracks buffer utilization, message counts, throughput metrics, and error conditions for monitoring and diagnostics.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_log_manager">5.2.4. Whitebox Log Manager</h4>
<div class="paragraph">
<p>The Log Manager provides system-wide event logging and performance data collection through lock-free interfaces that ensure real-time operations on both cores are never blocked by logging activities.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level2-log-manager-simple.svg" alt="level2 log manager simple" width="854" height="1196">
</div>
</div>
<div class="sect4">
<h5 id="_motivation_5">Motivation</h5>
<div class="paragraph">
<p>Lock-free logging interfaces prevent real-time operations from being blocked by logging activities. The dual-interface design allows each core to log independently without synchronization overhead, while the ring buffer provides bounded memory usage and predictable performance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_contained_building_blocks_5">Contained Building Blocks</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lock-Free Interface Core 0</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides atomic write operations for Core 0 components. Uses lock-free algorithms to ensure UART processing is never blocked by logging operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lock-Free Interface Core 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides atomic write operations for Core 1 components. Ensures network processing continues uninterrupted during logging activities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Event Log Ring Buffer</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Circular buffer storing formatted log entries with fixed-size allocation. Implements overwrite-oldest policy to handle log bursts without memory allocation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Log Entry Formatter</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts raw log data into structured entries with timestamps, component IDs, severity levels, and formatted messages for consistent log format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Log Level Filter</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runtime-configurable filtering based on severity levels and component masks. Reduces storage overhead by filtering out debug messages in production.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance Data Collector</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aggregates performance metrics from both cores including throughput calculations, latency measurements, and resource utilization statistics.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Log Query Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides search and retrieval capabilities for both real-time log streaming and historical log access via the management interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Log Persistence Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles optional flash storage with log rotation, compression, and archival. Manages persistent log files for post-mortem analysis.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_important_interfaces_2">Important Interfaces</h5>
<div class="sect5">
<h6 id="_lock_free_logging_interface">Lock-Free Logging Interface</h6>
<div class="ulist">
<ul>
<li>
<p><strong>Atomic Operations</strong>: Single-writer, multiple-reader lock-free ring buffer</p>
</li>
<li>
<p><strong>Non-blocking</strong>: Log calls never block or yield the calling thread</p>
</li>
<li>
<p><strong>Bounded Time</strong>: Worst-case execution time guarantees for real-time systems</p>
</li>
<li>
<p><strong>Overflow Handling</strong>: Graceful degradation when log buffer fills</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_event_log_ring_buffer_structure">Event Log Ring Buffer Structure</h6>
<div class="ulist">
<ul>
<li>
<p><strong>Entry Size</strong>: Fixed 128-byte entries for predictable memory usage</p>
</li>
<li>
<p><strong>Buffer Size</strong>: Configurable (default 1024 entries = 128KB)</p>
</li>
<li>
<p><strong>Overflow Policy</strong>: Drop oldest entries when buffer is full</p>
</li>
<li>
<p><strong>Memory Layout</strong>: Cache-aligned for optimal performance</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_performance_data_interface">Performance Data Interface</h6>
<div class="ulist">
<ul>
<li>
<p><strong>Metrics Collection</strong>: Throughput, latency, error counts, resource usage</p>
</li>
<li>
<p><strong>Aggregation</strong>: Time-based windowing for trend analysis</p>
</li>
<li>
<p><strong>Real-time Access</strong>: Current performance data always available</p>
</li>
<li>
<p><strong>Historical Data</strong>: Configurable retention period for trend analysis</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_management_interface">5.2.5. Whitebox Management Interface</h4>
<div class="paragraph">
<p>The Management Interface provides comprehensive web-based administration through modular components handling authentication, configuration, and monitoring functions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level2-management-simple.svg" alt="level2 management simple" width="1451" height="840">
</div>
</div>
<div class="sect4">
<h5 id="_motivation_6">Motivation</h5>
<div class="paragraph">
<p>The modular management interface design separates concerns between web serving, authentication, data collection, and configuration UIs. This enables independent development and testing of each component while providing a comprehensive administration solution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_contained_building_blocks_6">Contained Building Blocks</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HTTP Web Server</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processes HTTP/1.1 requests, serves static content (HTML/CSS/JS), provides REST API endpoints, and manages user sessions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Authentication System</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles user login validation, JWT session token management, role-based access control, and security header implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Statistical Data Module</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collects real-time metrics from system components, maintains historical data, tracks performance counters, and monitors system health.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UART Configuration UI</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides web interface for configuring UART channel settings, hardware control options, protocol filters, and parameter validation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TCP/IP Configuration UI</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Offers web interface for network settings, TCP port mapping, connection limits, and security configurations.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_3">5.3. Level 3</h3>
<div class="sect3">
<h4 id="_whitebox_core_0_uart_handler_subsystem">5.3.1. Whitebox Core 0 UART Handler Subsystem</h4>
<div class="paragraph">
<p>The Core 0 UART Subsystem specializes in handling all UART communication with dedicated hardware management, interrupt processing, and bidirectional data conversion between stream and packet formats.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level3-core0-uart-internal.svg" alt="level3 core0 uart internal" width="938" height="1564">
</div>
</div>
<div class="sect4">
<h5 id="_motivation_7">Motivation</h5>
<div class="paragraph">
<p>UART processing utilizing UART specific ISR and DMA transfers for maximum troughput.</p>
</div>
</div>
<div class="sect4">
<h5 id="_contained_building_blocks_7">Contained Building Blocks</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UART Hardware Manager</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Direct control of 4 UART channels with configurable parameters (baud rate, data bits, parity). Manages hardware registers and status monitoring.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Interrupt Handler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processes time-critical UART events (RX data available, TX buffer empty) with minimal latency for real-time performance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DMA Controller</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controls bulk data transfers in both directions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DMA Channel</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optimizes bulk data transfers in both directions to reduce CPU load and improve throughput for high-baud applications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Assembler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts incoming UART streams into fixed-size packets for ring buffer storage. Handles framing and timestamp metadata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Packet Disassembler</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extracts UART data from ring buffer packets and converts back to continuous streams for transmission.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides producer operations (UART RX data) and consumer operations (UART TX data) with proper synchronization.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_ring_buffer_system_internal_structure">5.3.2. Whitebox Ring Buffer System Internal Structure</h4>
<div class="paragraph">
<p>The Ring Buffer System provides the foundational inter-core communication with detailed memory management, helper functions, and synchronization primitives.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level3-ring-buffer-internals-simple.svg" alt="level3 ring buffer internals simple" width="964" height="951">
</div>
</div>
<div class="sect4">
<h5 id="_purpose_2">Purpose</h5>
<div class="paragraph">
<p>Provides efficient, thread-safe, bidirectional communication between cores with deterministic behavior and comprehensive monitoring capabilities.</p>
</div>
</div>
<div class="sect4">
<h5 id="_internal_structure">Internal Structure</h5>
<div class="sect5">
<h6 id="_memory_layout_manager">Memory Layout Manager</h6>
<div class="paragraph">
<p>Manages the physical organization of the ring buffer in memory with cache-aligned addressing and efficient index calculations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Ring Buffer Array</strong>: Contiguous memory block with cache-aligned entries</p>
</li>
<li>
<p><strong>Index Management</strong>: Head/tail pointers with wrap-around logic</p>
</li>
<li>
<p><strong>Memory Addressing</strong>: Base address + (index × entry_size) calculations</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_buffer_management_functions">Buffer Management Functions</h6>
<div class="paragraph">
<p>Core API providing the helper functions for ring buffer operations and monitoring.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">// Core buffer operations
ring_entry_t* find_next_free_block(void);
ring_entry_t* find_next_ready_block(uint8_t uart_channel, uint8_t direction);
bool is_buffer_full(void);
bool is_buffer_empty(void);

// Statistics and monitoring
uint32_t get_cached_message_count(void);
uint32_t get_cached_message_count_by_channel(uint8_t uart_channel);
uint32_t get_cached_message_count_by_direction(uint8_t direction);
uint32_t get_free_block_count(void);
uint32_t get_overflow_count(void);          // Dropped messages
uint32_t get_total_throughput_bytes(void);

// Advanced operations
ring_entry_t* peek_next_block(uint8_t uart_channel, uint8_t direction);
void mark_block_ready(ring_entry_t* entry);
void mark_block_consumed(ring_entry_t* entry);
void reset_buffer_statistics(void);</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_memory_layout_structure">Memory Layout Structure</h6>
<div class="paragraph">
<p>Complete ring buffer system data structure with metadata, statistics, and synchronization primitives.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    // Ring buffer metadata (cache-aligned)
    volatile uint32_t head_index;      // Producer index
    volatile uint32_t tail_index;      // Consumer index
    volatile uint32_t entry_count;     // Current entries
    uint32_t max_entries;              // Buffer capacity

    // Statistics (cache-aligned)
    uint32_t total_produced;
    uint32_t total_consumed;
    uint32_t overflow_count;
    uint32_t underflow_count;

    // Synchronization
    mutex_t buffer_mutex;
    semaphore_t free_space_sem;
    semaphore_t data_ready_sem;

    // Entry array (cache-aligned)
    ring_entry_t entries[];
} ring_buffer_system_t;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_data_entry_format">Data Entry Format</h6>
<div class="paragraph">
<p>Individual ring buffer entry structure used for both communication directions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    // Management Data (16 bytes)
    uint8_t  uart_channel;     // 0-3
    uint8_t  direction;        // RX_UART_TO_TCP / RX_TCP_TO_UART
    uint8_t  status;           // FILLING/DRAINING/FULL/EMPTY
    uint8_t  payload_length;   // Actual data length
    uint32_t timestamp;        // Fill timestamp
    uint32_t sequence_id;      // For ordering/debugging
    uint32_t next_in_use;      // Packets in use (within ring buffer) are a single linked list
    uint32_t reserved;         // Future use/alignment

    // Payload Data (1024 bytes max)
    uint8_t  payload[1024];    // Fixed max size for worst case
} ring_entry_t;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_uart_hardware_manager_internal_structure">5.3.3. Whitebox UART Hardware Manager Internal Structure</h4>
<div class="paragraph">
<p>The UART Hardware Manager provides unified control over all 4 UART channels with individual controllers, parameter management, and comprehensive status monitoring.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level3-uart-hardware-simple.svg" alt="level3 uart hardware simple" width="3921" height="581">
</div>
</div>
<div class="sect4">
<h5 id="_purpose_3">Purpose</h5>
<div class="paragraph">
<p>Provides unified interface to all 4 UART channels with configurable parameters, comprehensive status monitoring, and efficient interrupt handling.</p>
</div>
</div>
<div class="sect4">
<h5 id="_internal_structure_2">Internal Structure</h5>
<div class="sect5">
<h6 id="_uart_configuration_interface">UART Configuration Interface</h6>
<div class="paragraph">
<p>Complete configuration structure for UART channel parameters.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    uint32_t baud_rate;        // 300-500000 bps
    uint8_t  data_bits;        // 5-8 bits
    uint8_t  stop_bits;        // 1-2 bits
    uint8_t  parity;           // NONE/ODD/EVEN
    bool     flow_control;     // Hardware flow control
    bool     rs485_mode;       // RS485 half-duplex mode
} uart_config_t;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_uart_operations_api">UART Operations API</h6>
<div class="paragraph">
<p>Core function interface for UART channel operations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">// Channel operations
int uart_channel_configure(uint8_t channel, uart_config_t* config);
int uart_channel_read(uint8_t channel, uint8_t* buffer, size_t length);
int uart_channel_write(uint8_t channel, const uint8_t* data, size_t length);
bool uart_channel_is_ready(uint8_t channel);
uint32_t uart_channel_get_status(uint8_t channel);</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_status_monitoring_structure">Status Monitoring Structure</h6>
<div class="paragraph">
<p>Comprehensive status tracking for each UART channel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    bool carrier_detect;
    bool clear_to_send;
    bool data_set_ready;
    uint32_t rx_errors;
    uint32_t tx_errors;
    uint32_t frames_received;
    uint32_t frames_transmitted;
} uart_channel_status_t;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_whitebox_management_interface_internal_structure">5.3.4. Whitebox Management Interface Internal Structure</h4>
<div class="paragraph">
<p>The Management Interface provides comprehensive web-based administration through specialized components for HTTP serving, authentication, statistics, and configuration management.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/level3-management-internals-simple.svg" alt="level3 management internals simple" width="1752" height="959">
</div>
</div>
<div class="sect4">
<h5 id="_purpose_4">Purpose</h5>
<div class="paragraph">
<p>Provides comprehensive web-based configuration, monitoring, and administration interface with modular components for different management aspects.</p>
</div>
</div>
<div class="sect4">
<h5 id="_internal_structure_3">Internal Structure</h5>
<div class="sect5">
<h6 id="_http_web_server_components">HTTP Web Server Components</h6>
<div class="paragraph">
<p><strong>Request Handler</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    uint16_t port;                     // Default: 80
    uint32_t max_connections;          // Concurrent sessions
    char document_root[256];           // Static content path
} webserver_config_t;

int webserver_start(webserver_config_t* config);
int webserver_register_endpoint(const char* path, http_handler_t handler);
int webserver_send_response(int client_fd, http_response_t* response);</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_authentication_system_components">Authentication System Components</h6>
<div class="paragraph">
<p><strong>User Management</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef enum {
    AUTH_ROLE_ADMIN,       // Full configuration access
    AUTH_ROLE_OPERATOR,    // Monitor + basic config
    AUTH_ROLE_READONLY     // Monitor only
} auth_role_t;

typedef struct {
    char username[32];
    char password_hash[64];    // SHA-256 hash
    auth_role_t role;
    bool enabled;
} user_account_t;

bool authenticate_user(const char* username, const char* password);
const char* create_session_token(const char* username);
bool validate_session_token(const char* token);</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_statistical_data_components">Statistical Data Components</h6>
<div class="paragraph">
<p><strong>System Statistics Structure</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    // Per-channel statistics
    struct {
        uint64_t bytes_transmitted;
        uint64_t bytes_received;
        uint32_t messages_transmitted;
        uint32_t messages_received;
        uint32_t error_count;
        uint32_t overflow_count;
        float average_latency_ms;
        uint32_t current_baud_rate;
    } uart_stats[4];

    // Network statistics
    uint64_t tcp_bytes_sent;
    uint64_t tcp_bytes_received;
    uint32_t tcp_connections_active;
    uint32_t tcp_connections_total;

    // System statistics
    uint32_t uptime_seconds;
    uint32_t cpu_usage_percent;
    uint32_t memory_used_bytes;
    uint32_t ring_buffer_utilization_percent;
} system_statistics_t;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_configuration_interface_components">Configuration Interface Components</h6>
<div class="paragraph">
<p><strong>UART Configuration Structure</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    bool enabled;
    uart_config_t config;              // From UART Hardware Manager
    char description[64];              // User-friendly name
    bool protocol_filter_enabled;
    char protocol_filter_type[32];     // "SharkNet", "custom", etc.
} uart_channel_settings_t;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Network Configuration Structure</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">typedef struct {
    // Network configuration
    bool use_dhcp;
    char ip_address[16];               // "192.168.1.100"
    char subnet_mask[16];              // "255.255.255.0"
    char gateway[16];                  // "192.168.1.1"
    char dns_primary[16];
    char dns_secondary[16];

    // Port mapping
    struct {
        uint16_t tcp_port;             // 4001-4004 default
        bool enabled;
        uint32_t connection_timeout_ms;
        char allowed_clients[256];     // IP ranges: "192.168.1.0/24"
    } port_config[4];

    // Security
    bool enable_firewall;
    char hostname[64];
    uint16_t management_port;          // Web UI port (default 80)
} network_config_t;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_system_startup_sequence">6.1. System Startup Sequence</h3>
<div class="paragraph">
<p>The system follows a carefully orchestrated startup sequence ensuring proper initialization of shared resources before concurrent operation begins.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/system-startup-sequence.svg" alt="system startup sequence" width="1234" height="1201">
</div>
</div>
<div class="paragraph">
<p><strong>Startup Sequence Details:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Basic System Init</strong> (Core 0 only):</p>
<div class="ulist">
<ul>
<li>
<p>Clock configuration to operational frequency</p>
</li>
<li>
<p>GPIO pin configuration for UART and SPI interfaces</p>
</li>
<li>
<p>Memory controller initialization for cache-coherent operation</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Shared Infrastructure Init</strong> (Core 0 only):</p>
<div class="ulist">
<ul>
<li>
<p>Ring buffer allocation across 4 memory banks (128 entries total)</p>
</li>
<li>
<p>Log manager initialization with flash storage and debug UART output</p>
</li>
<li>
<p>Watchdog timer configuration with 200ms timeout per core</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Core 1 Startup</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Core 0 releases Core 1 from reset state</p>
</li>
<li>
<p>If Core 1 fails to respond within timeout, system reset is triggered</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Concurrent Core-Specific Init</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Core 0: UART hardware initialization, interrupt/DMA configuration</p>
</li>
<li>
<p>Core 1: Network stack initialization, ENC28J60 setup, TCP socket creation</p>
</li>
<li>
<p>Both cores register with watchdog system</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Critical Startup Requirements:</strong>
- Shared infrastructure must be fully initialized before Core 1 startup
- Core-specific initialization can proceed concurrently once both cores are active
- Any startup failure triggers immediate system reset for fail-safe operation</p>
</div>
</div>
<div class="sect2">
<h3 id="_uart_to_tcp_data_flow">6.2. UART-to-TCP Data Flow</h3>
<div class="paragraph">
<p>This scenario demonstrates the complete data path from UART reception to TCP transmission, highlighting the cache-coherent ring buffer operation and inter-core coordination.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/uart-to-tcp-dataflow.svg" alt="uart to tcp dataflow" width="1335" height="909">
</div>
</div>
<div class="paragraph">
<p><strong>Data Flow Key Points:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Interrupt-Driven Reception</strong>: UART RX interrupt triggers immediate DMA setup for bulk transfer</p>
</li>
<li>
<p><strong>Cache-Coherent Allocation</strong>: Ring buffer entries use bank-striped allocation to avoid cache contention</p>
</li>
<li>
<p><strong>Metadata Management</strong>: Each entry includes channel, direction, timing, and sequence information</p>
</li>
<li>
<p><strong>Consumer Notification</strong>: Ring buffer signals Core 1 when data is ready for transmission</p>
</li>
<li>
<p><strong>Automatic Cleanup</strong>: Consumed entries are immediately marked for reuse</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Memory Bank Allocation Strategy:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>Entry 0:  Bank 0 (0x20000000) - 1664 bytes (padded from 1088 bytes)
Entry 1:  Bank 1 (0x2000D000) - 1664 bytes (52KB stride)
Entry 2:  Bank 2 (0x2001A000) - 1664 bytes (52KB stride)
Entry 3:  Bank 3 (0x20027000) - 1664 bytes (52KB stride)
Entry 4:  Bank 0 (0x20001680) - 1664 bytes (next slot in Bank 0)
...
32 entries per bank × 4 banks = 128 total entries
Total ring buffer memory: 4 × 52KB = 208KB</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tcp_to_uart_data_flow">6.3. TCP-to-UART Data Flow</h3>
<div class="paragraph">
<p>This scenario shows the reverse data path from TCP reception to UART transmission, demonstrating the bidirectional nature of the ring buffer system.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tcp-to-uart-dataflow.svg" alt="tcp to uart dataflow" width="1319" height="887">
</div>
</div>
<div class="paragraph">
<p><strong>Reverse Data Flow Characteristics:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>TCP Reception</strong>: lwIP stack triggers callback on Core 1 with received data</p>
</li>
<li>
<p><strong>Producer Allocation</strong>: Core 1 acts as producer, allocating ring buffer entries</p>
</li>
<li>
<p><strong>Channel Routing</strong>: TCP port number maps to specific UART channel for data routing</p>
</li>
<li>
<p><strong>Consumer Processing</strong>: Core 0 consumes entries and triggers UART transmission</p>
</li>
<li>
<p><strong>DMA Efficiency</strong>: Bulk transfers minimize CPU overhead for high-throughput operation</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ring_buffer_cache_coherent_access_pattern">6.4. Ring Buffer Cache-Coherent Access Pattern</h3>
<div class="paragraph">
<p>The ring buffer implementation uses bank-striped memory allocation to ensure cache coherency between cores without explicit synchronization overhead.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ring-buffer-cache-coherent-access.svg" alt="ring buffer cache coherent access" width="938" height="538">
</div>
</div>
<div class="paragraph">
<p><strong>Cache-Coherent Access Implementation:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">// Ring buffer entry calculation for cache coherency
#define RING_BUFFER_BASE      0x20000000
#define BANK_SIZE            (52 * 1024)  // 52KB per bank
#define ENTRIES_PER_BANK     32
#define ENTRY_SIZE           1664         // Padded from 1088 to align at bank boundaries
#define TOTAL_ENTRIES        128          // 32 × 4 banks
#define TOTAL_RING_MEMORY    (4 * BANK_SIZE)  // 208KB total

typedef struct {
    uint32_t bank_id;        // 0-3
    uint32_t bank_offset;    // Offset within bank
    void*    entry_ptr;      // Cache-aligned pointer
} ring_entry_location_t;

// Calculate cache-coherent entry address with bank striping
ring_entry_location_t calculate_entry_location(uint32_t entry_index) {
    ring_entry_location_t loc;
    loc.bank_id = entry_index % 4;  // Rotate through banks 0-3
    loc.bank_offset = (entry_index / 4) * ENTRY_SIZE;
    loc.entry_ptr = (void*)(RING_BUFFER_BASE + (loc.bank_id * BANK_SIZE) + loc.bank_offset);
    return loc;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Cache Coherency Benefits:</strong>
- <strong>No Explicit Synchronization</strong>: Bank striping eliminates cache line conflicts
- <strong>Concurrent Access</strong>: Both cores can access ring buffer simultaneously
- <strong>Predictable Performance</strong>: No cache coherency protocol overhead
- <strong>Scalable Design</strong>: Adding more entries maintains cache efficiency</p>
</div>
</div>
<div class="sect2">
<h3 id="_ring_buffer_overflow_handling">6.5. Ring Buffer Overflow Handling</h3>
<div class="paragraph">
<p>When the ring buffer reaches capacity during data bursts, the drop-oldest policy ensures deterministic behavior without blocking either core.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ring-buffer-overflow.svg" alt="ring buffer overflow" width="927" height="1013">
</div>
</div>
<div class="paragraph">
<p><strong>Overflow Handling Characteristics:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Deterministic Behavior</strong>: Drop-oldest policy provides predictable response to overload</p>
</li>
<li>
<p><strong>Non-Blocking Operation</strong>: Neither producer nor consumer cores are ever blocked</p>
</li>
<li>
<p><strong>Comprehensive Logging</strong>: All overflow events are logged with detailed context</p>
</li>
<li>
<p><strong>Transparent Recovery</strong>: System continues normal operation after overflow</p>
</li>
<li>
<p><strong>Performance Preservation</strong>: Overflow handling adds minimal latency to normal operation</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Overflow Prevention Strategies:</strong>
- Monitor ring buffer utilization via management interface
- Adjust TCP connection parameters to reduce data bursts
- Configure UART baud rates to match expected data flow
- Use performance counters to identify problematic traffic patterns</p>
</div>
</div>
<div class="sect2">
<h3 id="_watchdog_health_monitoring">6.6. Watchdog Health Monitoring</h3>
<div class="paragraph">
<p>The dual-core watchdog system ensures system reliability by monitoring both cores independently and triggering recovery when failures are detected.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/watchdog-health-monitoring.svg" alt="watchdog health monitoring" width="1283" height="1871">
</div>
</div>
<div class="paragraph">
<p><strong>Watchdog Implementation Details:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Independent Monitoring</strong>: Each core has separate watchdog channel with 200ms timeout</p>
</li>
<li>
<p><strong>Background Task Integration</strong>: Keepalive signals sent during regular 100ms background tasks</p>
</li>
<li>
<p><strong>Failure Logging</strong>: All watchdog timeouts logged to log ring buffer (stored to flash) and debug UART (if enabled)</p>
</li>
<li>
<p><strong>Immediate Recovery</strong>: Hardware reset triggered immediately upon timeout detection</p>
</li>
<li>
<p><strong>Post-Reset Analysis</strong>: Failure logs available after system restart for diagnostics</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Watchdog Configuration:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">#define WATCHDOG_TIMEOUT_MS     200
#define BACKGROUND_TASK_MS      100  // Provides safety margin
#define CORE0_WATCHDOG_CHANNEL  0
#define CORE1_WATCHDOG_CHANNEL  1

// Keepalive function called from background tasks
void watchdog_keepalive(uint8_t core_id) {
    hw_watchdog_update(core_id);
    last_keepalive_timestamp[core_id] = get_system_time_ms();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_network_connection_handling">6.7. Network Connection Handling</h3>
<div class="paragraph">
<p>Network connections are managed dynamically with automatic recovery mechanisms to handle real-world network conditions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/network-connection-handling.svg" alt="network connection handling" width="915" height="2469">
</div>
</div>
<div class="paragraph">
<p><strong>Connection Management Features:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Dynamic Port Mapping</strong>: TCP ports 4001-4004 map to UART channels 0-3 respectively</p>
</li>
<li>
<p><strong>Connection Validation</strong>: Client connections validated against configured limits and permissions</p>
</li>
<li>
<p><strong>Automatic Buffering</strong>: Temporary data buffering during connection interruptions (30-second window)</p>
</li>
<li>
<p><strong>Graceful Recovery</strong>: Both graceful and ungraceful disconnection handling</p>
</li>
<li>
<p><strong>Comprehensive Logging</strong>: All connection events logged for diagnostics and monitoring</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Network Configuration Parameters:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">#define TCP_PORT_UART0     4001
#define TCP_PORT_UART1     4002
#define TCP_PORT_UART2     4003
#define TCP_PORT_UART3     4004
#define MAX_CONNECTIONS    4     // One per UART channel
#define BUFFER_TIMEOUT_MS  30000 // 30 seconds</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hardware_in_the_loop_testing_scenario">6.8. Hardware-in-the-Loop Testing Scenario</h3>
<div class="paragraph">
<p>The hardware-in-the-loop (HiL) testing framework enables automated validation of system behavior using real RP2350 hardware with comprehensive data collection from multiple sources.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/hil-testing-scenario.svg" alt="hil testing scenario" width="4776" height="376">
</div>
</div>
<div class="paragraph">
<p><strong>HiL Testing Configuration:</strong></p>
</div>
<div class="paragraph">
<p><strong>Development Machine Setup:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash"># Network configuration
ip addr add 10.10.10.11/24 dev eth0

# UART device mapping
/dev/ttyUSB0 → Debug UART (115200 8N1) - Debug output and flashing
/dev/ttyUSB1 → System UART 0 (230400 8N1) - Test channel 0
/dev/ttyUSB2 → System UART 1 (230400 8N1) - Test channel 1
/dev/ttyUSB3 → System UART 2 (230400 8N1) - Test channel 2
# UART 3 uses internal loopback for testing</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Device Network Configuration:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">#define DEVICE_IP_ADDR     "10.10.10.10"
#define DEVICE_SUBNET      "255.255.255.0"
#define DEVICE_GATEWAY     "10.10.10.1"
#define DEV_MACHINE_IP     "10.10.10.11"

// Test-specific ports
#define TEST_LOG_PORT      8080  // Event log retrieval
#define MGMT_PORT         80     // Management interface

// UART Test Configuration
#define DEBUG_UART_BAUD    115200  // /dev/ttyUSB0 - 8N1
#define SYSTEM_UART_BAUD   230400  // /dev/ttyUSB1-3 - 8N1</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Test Data Collection Sources:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Debug UART Output</strong> (<code>/dev/ttyUSB0</code>):</p>
<div class="ulist">
<ul>
<li>
<p>System startup messages</p>
</li>
<li>
<p>Real-time performance counters</p>
</li>
<li>
<p>Error and warning messages</p>
</li>
<li>
<p>Watchdog timeout notifications</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>TCP Event Log</strong> (Port 8080):</p>
<div class="ulist">
<ul>
<li>
<p>Structured JSON event records</p>
</li>
<li>
<p>Timing measurements with microsecond precision</p>
</li>
<li>
<p>Ring buffer utilization statistics</p>
</li>
<li>
<p>Network connection state changes</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>System UART Responses</strong> (<code>/dev/ttyUSB1-3</code>):</p>
<div class="ulist">
<ul>
<li>
<p>Actual serial data transmitted by device</p>
</li>
<li>
<p>Response timing verification</p>
</li>
<li>
<p>Data integrity validation</p>
</li>
<li>
<p>Protocol compliance testing</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>TCP Socket Data</strong> (Ports 4001-4004):</p>
<div class="ulist">
<ul>
<li>
<p>Network data transmission verification</p>
</li>
<li>
<p>Connection establishment timing</p>
</li>
<li>
<p>Error recovery behavior</p>
</li>
<li>
<p>Multi-channel coordination</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Automated Test Scenarios:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Throughput Testing</strong>: Sustained 500kBaud operation across all channels</p>
</li>
<li>
<p><strong>Latency Measurement</strong>: End-to-end timing from UART RX to TCP TX</p>
</li>
<li>
<p><strong>Stress Testing</strong>: Ring buffer overflow conditions and recovery</p>
</li>
<li>
<p><strong>Error Injection</strong>: Network disconnection, UART errors, power fluctuations</p>
</li>
<li>
<p><strong>Regression Testing</strong>: Automated validation of all critical scenarios</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The HiL testing framework ensures comprehensive validation of the UART2ETH system behavior under real-world conditions while maintaining the benefits of automated testing for continuous integration.</p>
</div>
</div>
<div class="sect2">
<h3 id="_performance_and_timing_requirements">6.9. Performance and Timing Requirements</h3>
<div class="paragraph">
<p><strong>Critical Timing Specifications:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Performance Metric</th>
<th class="tableblock halign-left valign-top">Target Value</th>
<th class="tableblock halign-left valign-top">Measurement Method</th>
<th class="tableblock halign-left valign-top">Validation Criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>End-to-End Latency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 5ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HiL timestamp correlation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99% of messages under 5ms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Sustained Throughput</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500kBaud per channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long-duration data streaming</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No data loss over 1 hour</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ring Buffer Access Time</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 100μs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware performance counters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache-coherent bank access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Watchdog Response Time</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 200ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failure injection testing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System reset within timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Network Recovery Time</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 30 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection interruption tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic reconnection success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>System Boot Time</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; 5 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power-on to operational state</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ready for data processing</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_operational_requirements_summary">7.1. Operational Requirements Summary</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement Type</th>
<th class="tableblock halign-left valign-top">Target</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Availability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero-downtime updates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A/B partition switching maintains device operation until manual reboot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signed firmware delivery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cryptographic signing, secure boot, initial key embedding at factory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic rollback</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Watchdog-based rollback mechanism for failed firmware updates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auditability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version tracking</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git tags and commit checksums embedded in firmware builds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual operations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No remote device reboots, QA gatekeeping for all releases</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_deployment_environments">7.2. Deployment Environments</h3>
<div class="sect3">
<h4 id="_environment_overview">7.2.1. Environment Overview</h4>
<div class="imageblock">
<div class="content">
<img src="../images/deployment-environments.svg" alt="deployment environments" width="567" height="824">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_environment_specifications">7.2.2. Environment Specifications</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Environment</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Hardware</th>
<th class="tableblock halign-left valign-top">Deployment Method</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feature development and local testing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Individual RP2350 devices per developer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Direct flash programming</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QA Testing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Release validation with real hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single testbench with RP2350 hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automated test deployment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Production</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Live firmware distribution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Customer-deployed field devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA HTTP downloads</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial device provisioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manufacturing test fixtures</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flash programming + key embedding</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_firmware_deployment_architecture">7.3. Firmware Deployment Architecture</h3>
<div class="sect3">
<h4 id="_high_level_architecture">7.3.1. High-Level Architecture</h4>
<div class="imageblock">
<div class="content">
<img src="../images/firmware-architecture.svg" alt="firmware architecture" width="724" height="916">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ab_partition_strategy">7.3.2. A/B Partition Strategy</h4>
<div class="imageblock">
<div class="content">
<img src="../images/ab-partitions.svg" alt="ab partitions" width="633" height="565">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_components">7.4. Infrastructure Components</h3>
<div class="sect3">
<h4 id="_build_and_release_infrastructure">7.4.1. Build and Release Infrastructure</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Technology &amp; Configuration</th>
<th class="tableblock halign-left valign-top">Purpose &amp; Responsibilities</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CMake Build System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pico SDK integration, firmware signing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compile source code, embed version info, sign binaries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer Hardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Individual RP2350 devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local development and unit testing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QA Testbench</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single automated test fixture with RP2350</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware-in-the-loop validation of release candidates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloud OTA Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP-based firmware distribution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serve approved firmware to field devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key Management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure cryptographic key storage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware signing keys, device authentication</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_security_architecture">7.4.2. Security Architecture</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Security Layer</th>
<th class="tableblock halign-left valign-top">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Key Embedding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cryptographic keys installed during initial manufacturing flash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware Signing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All firmware builds cryptographically signed before distribution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Boot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RP2350 ROM bootloader verifies firmware signatures before execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA Authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device authenticates with OTA server before firmware download</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partition Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each partition validated before boot attempt</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_deployment_strategies">7.5. Deployment Strategies</h3>
<div class="sect3">
<h4 id="_firmware_update_process">7.5.1. Firmware Update Process</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Stage</th>
<th class="tableblock halign-left valign-top">Process</th>
<th class="tableblock halign-left valign-top">Validation &amp; Control</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development Build</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CMake compilation with embedded version tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local developer testing on real hardware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QA Validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automated testbench execution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware-in-the-loop testing, manual approval gate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Production Release</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QA promotes approved firmware to OTA server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single gatekeeper model, full traceability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field Deployment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device pulls firmware via HTTP when configured</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual reboot required, automatic rollback protection</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_ab_partition_management">7.5.2. A/B Partition Management</h4>
<div class="imageblock">
<div class="content">
<img src="../images/partition-management.svg" alt="partition management" width="743" height="559">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_operational_procedures">7.6. Operational Procedures</h3>
<div class="sect3">
<h4 id="_version_management_and_auditability">7.6.1. Version Management and Auditability</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Aspect</th>
<th class="tableblock halign-left valign-top">Implementation</th>
<th class="tableblock halign-left valign-top">Benefits</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version Identification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git tags and commit checksums embedded in firmware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Precise traceability of deployed firmware versions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build Reproducibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deterministic build process with version tagging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ability to rebuild exact firmware for debugging</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Release Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QA approval records linked to firmware versions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear audit trail for all production releases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field Identification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device reports firmware version via management interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Support teams can identify deployed firmware versions</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rollback_and_recovery_procedures">7.6.2. Rollback and Recovery Procedures</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Recovery Method</th>
<th class="tableblock halign-left valign-top">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boot Failure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic rollback via watchdog timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RP2350 ROM bootloader switches to backup partition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corrupted Download</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signature verification failure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device rejects invalid firmware, retains current version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download retry mechanism</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device continues with current firmware, retries later</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total Firmware Corruption</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device replacement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No field recovery possible when both partitions corrupted</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_monitoring_and_maintenance">7.6.3. Monitoring and Maintenance</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Monitoring Aspect</th>
<th class="tableblock halign-left valign-top">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware Version Tracking</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git checksums embedded in firmware, reported via management UI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update Success Rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device reports successful updates to management interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rollback Events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Watchdog rollback events logged in device memory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA Server Health</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP availability monitoring for firmware distribution</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_management">7.7. Configuration Management</h3>
<div class="sect3">
<h4 id="_ota_server_configuration">7.7.1. OTA Server Configuration</h4>
<div class="paragraph">
<p>The UART2ETH device supports flexible OTA server configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Default Server</strong>: Company-hosted cloud OTA server for standard deployments</p>
</li>
<li>
<p><strong>Customer Servers</strong>: Configurable OTA server URL via management interface</p>
</li>
<li>
<p><strong>HTTP Protocol</strong>: Simple HTTP-based firmware downloads (no HTTPS requirement)</p>
</li>
<li>
<p><strong>Pull-based Updates</strong>: Devices initiate update checks, no push capability</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_protocol_filtering">8.1. Protocol Filtering</h3>
<div class="paragraph">
<p>Protocol filtering provides a configurable mechanism to determine packet boundaries in UART data streams. The system implements pluggable filters that analyze incoming byte streams to identify complete data units for efficient TCP transmission.</p>
</div>
<div class="sect3">
<h4 id="_packet_determination_algorithm">8.1.1. Packet Determination Algorithm</h4>
<div class="paragraph">
<p>The protocol filter operates on incoming UART data to identify discrete packets using configurable delimiters and patterns:</p>
</div>
<div class="listingblock">
<div class="title">Basic Line-Based Filter Example</div>
<div class="content">
<pre class="prettyprint highlight"><code>Input stream:  "sensor1=23.5\r\ntemperature=18.2\r\nhumidity=65\r\n"
Delimiter:     "\r\n"
Output packets:
  - "sensor1=23.5"
  - "temperature=18.2"
  - "humidity=65"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_filter_types">8.1.2. Filter Types</h4>
<div class="paragraph">
<p>The system supports multiple filter implementations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Line-based filters</strong>: Use configurable line terminators (\r\n, \n, \r)</p>
</li>
<li>
<p><strong>Fixed-length filters</strong>: Extract packets of predetermined byte count</p>
</li>
<li>
<p><strong>Delimiter-based filters</strong>: Use custom byte sequences as packet boundaries</p>
</li>
<li>
<p><strong>Timeout-based filters</strong>: Form packets after configurable idle periods</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_parameters">8.1.3. Configuration Parameters</h4>
<div class="paragraph">
<p>Each UART channel supports independent filter configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Filter type selection</p>
</li>
<li>
<p>Delimiter specification (for delimiter-based filters)</p>
</li>
<li>
<p>Packet length (for fixed-length filters)</p>
</li>
<li>
<p>Timeout values (for timeout-based filters)</p>
</li>
<li>
<p>Maximum packet size limits</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_web_management_interface">8.2. Web Management Interface</h3>
<div class="paragraph">
<p>The web management interface provides system configuration and monitoring through a responsive web UI.</p>
</div>
<div class="sect3">
<h4 id="_main_interface_mockup">8.2.1. Main Interface Mockup</h4>
<div class="imageblock">
<div class="content">
<img src="../images/web-management-interface.svg" alt="web management interface" width="1100" height="631">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_network_configuration_panel">8.2.2. Network Configuration Panel</h4>
<div class="imageblock">
<div class="content">
<img src="../images/network-config-panel.svg" alt="network config panel" width="566" height="282">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_protocol_filter_configuration">8.2.3. Protocol Filter Configuration</h4>
<div class="imageblock">
<div class="content">
<img src="../images/filter-config-panel.svg" alt="filter config panel" width="1055" height="359">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_system_monitoring_dashboard">8.2.4. System Monitoring Dashboard</h4>
<div class="imageblock">
<div class="content">
<img src="../images/monitoring-dashboard.svg" alt="monitoring dashboard" width="997" height="256">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ota_update_interface">8.2.5. OTA Update Interface</h4>
<div class="imageblock">
<div class="content">
<img src="../images/ota-update-interface.svg" alt="ota update interface" width="1007" height="312">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling_strategy">8.3. Error Handling Strategy</h3>
<div class="sect3">
<h4 id="_hierarchical_error_management">8.3.1. Hierarchical Error Management</h4>
<div class="paragraph">
<p>The system implements a three-tier error handling approach:</p>
</div>
<div class="paragraph">
<p><strong>Application Layer Errors</strong>
* Protocol parsing failures
* Configuration validation errors
* User authentication failures</p>
</div>
<div class="paragraph">
<p><strong>Communication Layer Errors</strong>
* UART framing/parity errors
* TCP connection failures
* Network timeout conditions</p>
</div>
<div class="paragraph">
<p><strong>System Layer Errors</strong>
* Memory allocation failures
* Hardware malfunction detection
* Critical system resource exhaustion</p>
</div>
</div>
<div class="sect3">
<h4 id="_error_recovery_mechanisms">8.3.2. Error Recovery Mechanisms</h4>
<div class="paragraph">
<p>Each error category implements specific recovery procedures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Graceful degradation</strong>: Non-critical failures maintain partial functionality</p>
</li>
<li>
<p><strong>Automatic retry</strong>: Transient errors trigger configurable retry attempts</p>
</li>
<li>
<p><strong>Failover switching</strong>: Critical component failures activate backup systems</p>
</li>
<li>
<p><strong>User notification</strong>: All error conditions generate appropriate user feedback</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_security_architecture_2">8.4. Security Architecture</h3>
<div class="sect3">
<h4 id="_authentication_and_authorization">8.4.1. Authentication and Authorization</h4>
<div class="paragraph">
<p><strong>Multi-level Access Control</strong>
* Administrator: Full system configuration access
* Operator: Monitoring and basic configuration changes
* Guest: Read-only monitoring access</p>
</div>
<div class="paragraph">
<p><strong>Session Management</strong>
* Token-based authentication with configurable expiry
* Automatic session timeout after inactivity
* Concurrent session limits per user role</p>
</div>
</div>
<div class="sect3">
<h4 id="_data_protection">8.4.2. Data Protection</h4>
<div class="paragraph">
<p><strong>Network Security</strong>
* Configurable firewall rules per UART channel
* Rate limiting for TCP connections
* Intrusion detection for unusual traffic patterns</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_management_2">8.5. Configuration Management</h3>
<div class="sect3">
<h4 id="_persistent_storage">8.5.1. Persistent Storage</h4>
<div class="paragraph">
<p>Configuration data persistence uses JSON format with schema validation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>System settings (network, users, security)</p>
</li>
<li>
<p>UART channel configurations (baud rate, protocol filters)</p>
</li>
<li>
<p>Performance tuning parameters</p>
</li>
<li>
<p>Historical statistics and logs</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_backup_and_restore">8.5.2. Backup and Restore</h4>
<div class="paragraph">
<p><strong>Automatic Backups</strong>
* Daily configuration snapshots
* Pre-update system state capture
* Critical setting change tracking</p>
</div>
<div class="paragraph">
<p><strong>Manual Operations</strong>
* Configuration export/import via web interface
* Factory reset with selective data preservation
* Remote backup to external storage systems</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_performance_optimization">8.6. Performance Optimization</h3>
<div class="sect3">
<h4 id="_buffer_management">8.6.1. Buffer Management</h4>
<div class="paragraph">
<p><strong>Dynamic Buffer Allocation</strong>
* Adaptive buffer sizes based on data flow patterns
* Memory pool management for high-frequency allocations
* Garbage collection for unused buffer segments</p>
</div>
<div class="paragraph">
<p><strong>Flow Control</strong>
* Back-pressure mechanisms for overloaded channels
* Priority queuing for different data types
* Load balancing across multiple TCP connections</p>
</div>
</div>
<div class="sect3">
<h4 id="_monitoring_and_metrics">8.6.2. Monitoring and Metrics</h4>
<div class="paragraph">
<p><strong>Real-time Performance Tracking</strong>
* Throughput measurements per UART channel
* Latency monitoring for end-to-end data flow
* Resource utilization (CPU, memory, network)</p>
</div>
<div class="paragraph">
<p><strong>Historical Analysis</strong>
* Trend analysis for capacity planning
* Performance regression detection
* Automated alerting for threshold violations</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section references the Architecture Decision Records (ADRs) that document key technical decisions for the UART2ETH project. These decisions form the foundation of the system architecture and significantly influence capabilities, performance characteristics, and development approach.</p>
</div>
<div class="sect2">
<h3 id="_hardware_platform_decisions">9.1. Hardware Platform Decisions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../adrs/ADR-001-microcontroller-selection.html">ADR-001: Microcontroller Platform Selection</a> - Documents the decision to use the Raspberry Pi RP2350 as the core microcontroller platform.</p>
</li>
<li>
<p><a href="../adrs/ADR-002-ethernet-controller-selection.html">ADR-002: Ethernet Controller Selection</a> - Documents the decision to use the ENC28J60 as the Ethernet controller.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_software_platform_decisions">9.2. Software Platform Decisions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../adrs/ADR-003-programming-language-selection.html">ADR-003: Programming Language Selection</a> - Documents the decision to use C programming language for firmware development, considering team expertise, delivery timeline, and memory model constraints.</p>
</li>
<li>
<p><a href="../adrs/ADR-004-development-ecosystem.html">ADR-004: Development Ecosystem Selection</a> - Documents the decision to use Native Pico SDK + CMake development ecosystem for professional, industrial-grade development.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_implementation_strategy_decisions">9.3. Implementation Strategy Decisions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../adrs/ADR-005-buffer-allocation-strategy.html">ADR-005: Ring Buffer Memory Allocation Strategy</a> - Documents the decision to use static worst-case allocation for inter-core communication buffers, prioritizing reliability and determinism over memory efficiency.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_decision_interdependencies">9.4. Decision Interdependencies</h3>
<div class="paragraph">
<p>The ADRs reveal important interdependencies that influence architectural coherence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ADR-004 (Development Ecosystem) challenges ADR-002 (Ethernet Controller)</strong>: The ecosystem analysis revealed that ENC28J60 lacks mature RP2350 SDK integration, potentially requiring significant custom development effort and impacting industrial reliability goals.</p>
</li>
<li>
<p><strong>ADR-003 (C Language) reinforces ADR-004 (Native SDK)</strong>: The choice of C programming language aligns optimally with the Native Pico SDK approach, enabling direct application of team expertise.</p>
</li>
<li>
<p><strong>ADR-005 (Buffer Strategy) supports ADR-003 (C Language)</strong>: Static allocation strategy leverages C&#8217;s deterministic memory model and supports industrial reliability requirements.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="paragraph">
<p>The quality tree organizes our quality requirements hierarchically, derived from stakeholder expectations and our industrial embedded systems context. Priority levels reflect architectural significance and business impact.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/quality-tree-overview.svg" alt="quality tree overview" width="857" height="565">
</div>
</div>
<div class="paragraph">
<p><strong>Priority Levels:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Critical (1)</strong>: System failure without this quality - business showstopper</p>
</li>
<li>
<p><strong>High (2)</strong>: Essential for reliable operation and long-term maintenance</p>
</li>
<li>
<p><strong>High (3)</strong>: Significant impact on user satisfaction and adoption</p>
</li>
<li>
<p><strong>Important (4)</strong>: Affects usability, deployment efficiency, and operational monitoring</p>
</li>
<li>
<p><strong>Medium (5)</strong>: Enhances user experience and compatibility but system functional without them</p>
</li>
<li>
<p><strong>Desired (6)</strong>: Nice-to-have features for future releases and enhanced security</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Resource and Performance Context:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Platform</strong>: RP2350 dual-core ARM Cortex-M33 at 150MHz, 520KB SRAM, 4MB Flash</p>
</li>
<li>
<p><strong>Network</strong>: ENC28J60 10BASE-T Ethernet controller via SPI</p>
</li>
<li>
<p><strong>Expected Load</strong>: Up to 4 concurrent UART channels at combined 500kBaud maximum throughput</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<div class="sect3">
<h4 id="_reliability_requirements_priority_1_critical">10.2.1. Reliability Requirements (Priority 1 - Critical)</h4>
<div class="sect4">
<h5 id="_scenario_r1_industrial_continuous_operation">Scenario R1: Industrial Continuous Operation</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manufacturing environment with 24/7 operation during normal environmental conditions (temperature, humidity, power within specifications)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART2ETH device deployed in production line handling PLC communication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System maintains continuous operation without software-induced failure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99.99% uptime during scheduled production hours (876 hours/year), maximum 0.876 hours downtime annually due to software issues</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manufacturing downtime costs thousands per minute; industrial systems require exceptional reliability for business viability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extended operation testing for 100+ continuous hours with simulated industrial traffic patterns, watchdog timer validation, memory leak detection tools</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_r2_hardware_component_failure_recovery">Scenario R2: Hardware Component Failure Recovery</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Production deployment with active UART and network connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single hardware component failure (e.g., ENC28J60 controller malfunction)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System logs error with timestamp and component identifier, maintains UART data buffering, activates error LED with specific blink pattern, continues UART processing while disabling affected network functions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failure detection within 100ms, no data corruption in ring buffer, error LED pattern visible, automatic recovery within 2 seconds when component functionality restored</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware failures are inevitable; system must handle them gracefully to maintain industrial reliability standards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fault injection testing using SPI line manipulation and network disconnection. Verified with oscilloscope timing measurements and data integrity checksums</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_r3_power_cycle_recovery">Scenario R3: Power Cycle Recovery</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial environment with occasional power fluctuations or maintenance shutdowns</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unexpected power loss followed by power restoration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System restarts cleanly, restores previous configuration, resumes operation without manual intervention</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full operational restart within 10 seconds, 100% configuration preservation, automatic reconnection from previous TCP clients within 15 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power interruptions are common in industrial settings; system must resume operation automatically to avoid service calls</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_r4_memory_exhaustion_protection">Scenario R4: Memory Exhaustion Protection</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High-throughput operation with all 4 UARTs active at maximum baud rates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ring buffer approaches capacity due to traffic burst or consumer processing delays</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System applies drop-oldest policy deterministically, continues operation without crash or memory leak</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No system crash under any traffic conditions, maximum 5% packet loss during extreme bursts (&gt;150% of sustained capacity), recovery to normal operation within 1 second after burst ends</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static memory architecture must handle overload gracefully; crashes are unacceptable in industrial applications</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traffic generation testing at 200% rated capacity for 30 minutes, memory usage monitoring, packet loss measurement with statistical analysis</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_performance_requirements_mixed_priority_highimportant">10.2.2. Performance Requirements (Mixed Priority: High/Important)</h4>
<div class="sect4">
<h5 id="_scenario_p1_real_time_industrial_control_latency">Scenario P1: Real-time Industrial Control Latency</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PLC communicating time-critical control data to SCADA system via UART2ETH bridge</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PLC sends control command that must reach SCADA system with minimal delay</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data transmitted through UART→Ring Buffer→TCP path with optimized processing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End-to-end latency &lt;5ms for 95% of packets under normal load (up to 300kBaud sustained across all channels)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High (3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial control loops require predictable, low latency to maintain process stability and safety</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Measured using hardware timestamp injection at UART TX and TCP packet capture analysis. Test with 10,000 message sequences under sustained 300kBaud load</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_p2_sustained_high_throughput">Scenario P2: Sustained High Throughput</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data-intensive application requiring bulk data transfer (e.g., measurement data logging)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Continuous data stream at maximum specified throughput across multiple UART channels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System maintains data flow without drops or significant queuing delays</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sustain 500kBaud combined throughput across all active channels for 8+ hour periods with &lt;0.1% packet loss</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High (2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High-volume applications require consistent throughput to avoid data loss and maintain system efficiency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automated throughput testing with UART traffic generators, network packet capture analysis, 24-hour continuous operation validation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_p3_resource_utilization_under_load">Scenario P3: Resource Utilization Under Load</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System operating at 80% of maximum specified capacity across CPU, memory, and network resources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal industrial traffic patterns with occasional bursts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System maintains responsive operation with efficient resource usage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU utilization &lt;70%, memory usage &lt;80% of available RAM, network buffer utilization &lt;60% during normal operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Important (4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Efficient resource usage ensures headroom for traffic spikes and maintains system responsiveness</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_p4_network_congestion_handling">Scenario P4: Network Congestion Handling</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network infrastructure experiencing intermittent congestion or high latency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP connection experiences delays or temporary packet loss</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System adapts transmission patterns while maintaining UART data flow integrity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic TCP retry within 50ms, UART data buffering up to 2 seconds during network issues, no UART data loss during network recovery</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High (2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network infrastructure issues are common; system must adapt while protecting serial data integrity</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_security_requirements_mixed_priority_criticalimportantdesired">10.2.3. Security Requirements (Mixed Priority: Critical/Important/Desired)</h4>
<div class="sect4">
<h5 id="_scenario_s1_unauthorized_network_access_prevention">Scenario S1: Unauthorized Network Access Prevention</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART2ETH deployed in production network with potential access from unauthorized devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unauthorized device attempts TCP connection to UART bridge ports (4001-4004)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System validates connection using IP whitelist and optional TLS client certificate authentication, rejects unauthorized connections with RST packet, logs security events with ISO 8601 timestamp and source details to encrypted flash storage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100% of unauthorized connection attempts blocked within 10ms, zero false positives for whitelisted IPs, security events logged with integrity protection, system remains operational during connection flood attacks (up to 1000 attempts/second)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desired (6)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial networks require protection against unauthorized access to prevent data interception and system manipulation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OWASP-based penetration testing with unauthorized IP addresses, automated port scanning from external networks, TLS certificate validation testing, connection flood testing with 1000+ concurrent attempts</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_s2_firmware_integrity_validation">Scenario S2: Firmware Integrity Validation</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA firmware update process or system boot sequence with secure boot enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System receives firmware image or boots from flash memory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System validates cryptographic signature using embedded public key, verifies SHA-256 image hash, implements secure boot chain from RP2350 ROM, validates firmware version to prevent rollback attacks, rejects invalid firmware</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100% signature validation before execution using, invalid firmware rejected within 500ms, automatic rollback to previous version if post-update health check fails within 15 seconds, firmware version monotonically increasing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware integrity ensures system operates only trusted code, preventing malicious modifications in industrial environments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test with tampered firmware images using invalid signatures, downgrade attack testing with older firmware versions, signature validation timing measurements on RP2350 hardware, secure boot chain validation, rollback procedure validation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_s3_configuration_data_protection">Scenario S3: Configuration Data Protection</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device configuration contains network credentials and operational parameters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power cycle, configuration backup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System validates configuration integrity with HMAC-SHA256, keeps 2 copies configuration, uses monotonic revision counter to keep track of latest vaild revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration tampering or corruption detected with HMAC-SHA256 validation triggering rollback to latest valid version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration data must not be corrupted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flash memory hexdump analysis to verify HMAC-SHA256 and revision counter, configuration integrity validation after power cycles, forced corruption to verify configuration rollback</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_s4_communication_security">Scenario S4: Communication Security</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART data transmitted over TCP connections in potentially untrusted network environments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sensitive industrial data (PLC commands, sensor readings) transmitted between UART devices and network clients</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System provides optional TLS 1.3 encryption for TCP connections with industrial-grade cipher suites, maintains data integrity during transmission, implements connection authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS 1.3 available for all TCP connections, &lt;10ms additional latency for TLS handshake, 100% data integrity verification using TLS record layer, certificate-based client authentication supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desired (6)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial data may contain sensitive process information requiring protection during network transmission</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network packet capture analysis to verify TLS encryption, latency measurement with TLS enabled/disabled, certificate validation testing, man-in-the-middle attack testing</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_s5_security_event_logging_and_monitoring">Scenario S5: Security Event Logging and Monitoring</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial environment requiring audit trails and security incident detection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security events including authentication failures, unauthorized access attempts, configuration changes, firmware updates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System logs all security events to encrypted flash storage with tamper-evident integrity protection, provides secure export capability, maintains event timestamps with NTP synchronization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100% of events logged with ISO 8601 timestamps, log integrity protected with HMAC-SHA256, encrypted log storage using device-unique keys, log retention for 1000 events, log export via HTTP Web UI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Important (4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial systems require comprehensive audit trails for compliance and security incident investigation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security event generation testing, log integrity validation, encrypted storage verification, timestamp accuracy testing, log export functionality testing</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_compatibility_requirements_mixed_priority_criticalmedium">10.2.4. Compatibility Requirements (Mixed Priority: Critical/Medium)</h4>
<div class="sect4">
<h5 id="_scenario_c1_diverse_industrial_protocol_support">Scenario C1: Diverse Industrial Protocol Support</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compatibility</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System integrator deploying UART2ETH with various industrial equipment (PLCs, sensors, measurement devices)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration requests for non-standard baud rates, unusual frame formats, or custom protocol timing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System accepts and maintains stable communication with diverse protocol requirements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Support for baud rates 300-500000, all standard frame formats (5-8 data bits, 1-2 stop bits, none/odd/even parity), stable operation with 99.9% of industrial serial devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium (5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial environments contain diverse legacy equipment; broad compatibility enables market adoption and reduces integration effort</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol compliance testing with representative industrial devices (PLCs from 3+ vendors, measurement instruments), baud rate accuracy measurement with oscilloscope</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_c2_network_infrastructure_integration">Scenario C2: Network Infrastructure Integration</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compatibility</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployment in existing network infrastructure with various switches, routers, and network management systems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection to different network environments (managed switches, VLANs, different subnet configurations)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System auto-negotiates network parameters and maintains stable operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Successful auto-negotiation with 95% of standard Ethernet infrastructure, stable operation across different network topologies, DHCP and static IP support</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network environments vary significantly between sites; automatic adaptation reduces deployment complexity and support costs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_c3_scada_system_integration">Scenario C3: SCADA System Integration</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compatibility</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integration with existing SCADA/HMI systems from various vendors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SCADA system establishes TCP connection with specific protocol expectations or timing requirements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System provides transparent TCP socket interface compatible with SCADA expectations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Successful integration with 90% of common SCADA systems, transparent protocol forwarding without modification, support for multiple simultaneous connections per UART</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium (5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SCADA integration is primary use case; broad compatibility ensures market viability and reduces customer integration effort</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_usability_requirements_mixed_priority_importantmedium">10.2.5. Usability Requirements (Mixed Priority: Important/Medium)</h4>
<div class="sect4">
<h5 id="_scenario_u1_field_technician_deployment">Scenario U1: Field Technician Deployment</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field technician with basic networking knowledge deploying device in industrial facility</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technician needs to configure device for first-time operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System provides intuitive configuration interface with clear guidance and validation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete basic configuration (IP settings, UART parameters, port mapping) within 15 minutes by technician with minimal training, configuration errors caught with helpful error messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Important (4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple deployment reduces installation time, training costs, and field support requirements</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_u2_troubleshooting_and_diagnostics">Scenario U2: Troubleshooting and Diagnostics</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System experiencing communication issues in production environment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field technician or system integrator needs to diagnose and resolve connectivity problems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System provides clear diagnostic information and status indicators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problem identification within 5 minutes using web interface diagnostics, LED status indicators visible from 2 meters, error messages identify specific issue and suggest resolution steps</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium (5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear diagnostics reduce troubleshooting time, minimize production downtime, and reduce support costs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_u3_configuration_management">Scenario U3: Configuration Management</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System integrator managing multiple UART2ETH devices across different sites</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Need to backup, restore, or replicate device configurations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System provides configuration export/import functionality with validation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete configuration backup/restore within 2 minutes, configuration file validation with clear error reporting, bulk configuration deployment to multiple devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium (5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration management reduces deployment time for multiple devices and simplifies maintenance procedures</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_maintainability_requirements_mixed_priority_criticalhighdesired">10.2.6. Maintainability Requirements (Mixed Priority: Critical/High/Desired)</h4>
<div class="sect4">
<h5 id="_scenario_m1_secure_over_the_air_updates">Scenario M1: Secure Over-the-Air Updates</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployed devices requiring firmware update for bug fixes or feature enhancements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator initiates OTA update from management server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System securely downloads, validates, and applies firmware update with automatic rollback on failure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update completion within 10 minutes, 100% signature validation, automatic rollback within 2 minutes if update fails, zero configuration loss during successful updates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High (2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field updates are essential for long-term maintenance; secure OTA capability reduces service costs and improves security posture</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA update testing with valid/invalid signatures, network interruption during update, rollback timing measurement, configuration persistence validation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_m2_ab_partition_rollback">Scenario M2: A/B Partition Rollback</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recently updated device experiencing issues with new firmware version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic rollback trigger due to system health check failure or manual rollback command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System switches to previous firmware version and restores operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rollback completion within 30 seconds, 100% restoration of previous functionality, all user configurations preserved during rollback process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical (1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rollback capability ensures update safety and reduces risk of system unavailability due to problematic firmware</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_scenario_m3_development_and_testing_support">Scenario M3: Development and Testing Support</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development team implementing new features or debugging reported issues</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stimulus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer needs to analyze system behavior or verify fix implementation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System provides comprehensive debugging interfaces and test capabilities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debug interface access within 30 seconds, comprehensive logging of system events, test mode operation without affecting production traffic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desired (6)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rationale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development efficiency directly impacts time-to-market and bug resolution speed, affecting overall product quality</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios_integration">10.3. Quality Scenarios Integration</h3>
<div class="sect3">
<h4 id="_architectural_decision_impact">10.3.1. Architectural Decision Impact</h4>
<div class="paragraph">
<p>These quality scenarios directly influence key architectural decisions documented in our ADRs:</p>
</div>
<div class="paragraph">
<p><strong>Hardware Platform Decisions:</strong>
- <strong>Reliability Scenarios R1-R4</strong> → <a href="../../adrs/ADR-001-microcontroller-selection.adoc">ADR-001: RP2350 Selection</a> provides dual-core architecture for fault isolation
- <strong>Performance Scenarios P1-P2</strong> → Static memory allocation strategy eliminates runtime allocation failures</p>
</div>
<div class="paragraph">
<p><strong>Software Architecture Decisions:</strong>
- <strong>Performance Scenarios P1-P4</strong> → <a href="../../adrs/ADR-003-programming-language-selection.adoc">ADR-003: C Language Selection</a> enables deterministic, real-time behavior
- <strong>Reliability Scenarios R2-R4</strong> → Ring buffer design with drop-oldest policy provides predictable overload behavior</p>
</div>
<div class="paragraph">
<p><strong>Network Architecture Decisions:</strong>
- <strong>Compatibility Scenarios C1-C3</strong> → ENC28J60 selection with software TCP/IP stack enables full protocol control and auditability</p>
</div>
</div>
<div class="sect3">
<h4 id="_testing_and_validation_framework">10.3.2. Testing and Validation Framework</h4>
<div class="paragraph">
<p>Each quality scenario translates directly into test cases:</p>
</div>
<div class="paragraph">
<p><strong>Reliability Testing:</strong>
- Extended operation testing (1000+ hours) to validate R1
- Fault injection testing for hardware failure scenarios (R2)
- Power cycle testing with configuration persistence validation (R3)
- Memory stress testing with overload conditions (R4)</p>
</div>
<div class="paragraph">
<p><strong>Performance Testing:</strong>
- Real-time latency measurement under various loads (P1)
- Sustained throughput testing for extended periods (P2)
- Resource monitoring during peak operations (P3)
- Network resilience testing with simulated congestion (P4)</p>
</div>
<div class="paragraph">
<p><strong>Compatibility Testing:</strong>
- Protocol compliance testing with diverse industrial equipment (C1)
- Network infrastructure compatibility testing (C2)
- SCADA system integration testing (C3)</p>
</div>
<div class="paragraph">
<p><strong>Usability Testing:</strong>
- Field deployment simulation with time measurements (U1)
- Diagnostic effectiveness testing with problem scenarios (U2)
- Configuration management workflow testing (U3)</p>
</div>
<div class="paragraph">
<p><strong>Maintainability Testing:</strong>
- OTA update testing with various failure scenarios (M1)
- A/B rollback testing with timing and data integrity validation (M2)
- Development workflow testing and debugging interface validation (M3)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenario_priority_matrix">10.4. Quality Scenario Priority Matrix</h3>
<div class="paragraph">
<p>The following table summarizes all quality scenarios by priority level:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Scenario ID</th>
<th class="tableblock halign-left valign-top">Scenario Name</th>
<th class="tableblock halign-left valign-top">Key Metric</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Critical (1)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R1, R2, R3, R4, S2, S3, C2, M2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial Operation, Hardware Failure, Power Recovery, Memory Protection, Firmware Integrity, Configuration Protection, Network Integration, A/B Rollback</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99.99% uptime, &lt;100ms failure detection, 100% signature validation, automatic network compatibility</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>High (2)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P2, P4, M1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High Throughput, Network Congestion Handling, OTA Updates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500kBaud sustained throughput, &lt;10min OTA updates, network resilience</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>High (3)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Real-time Industrial Control Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;5ms latency for 95% of packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Important (4)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P3, S5, U1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Utilization, Security Logging, Field Deployment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;70% CPU utilization, comprehensive audit trails, &lt;15min deployment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Medium (5)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C1, C3, U2, U3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Support, SCADA Integration, Diagnostics, Configuration Management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99.9% device compatibility, &lt;5min troubleshooting, configuration backup/restore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Desired (6)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S1, S4, M3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Access Control, Communication Security, Development Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS 1.3 encryption, unauthorized access blocking, debug interface access</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_quality_requirements_summary">10.5. Quality Requirements Summary</h3>
<div class="paragraph">
<p>The quality scenarios establish measurable success criteria that guide both architectural decisions and validation approaches. Critical scenarios represent non-negotiable requirements where system failure would render the product unsuitable for industrial deployment. High priority scenarios significantly impact user satisfaction and market adoption. Lower priority scenarios enhance user experience and reduce operational costs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security_industrial_operation_balance">10.6. Security-Industrial Operation Balance</h3>
<div class="paragraph">
<p>Industrial systems require a careful balance between security measures and operational requirements:</p>
</div>
<div class="paragraph">
<p><strong>Security vs. Availability Trade-offs:</strong>
- Security features (authentication, encryption) must not compromise the 99.99% uptime requirement
- TLS encryption adds &lt;10ms latency, acceptable for industrial control loops
- Security event logging uses &lt;1% of flash storage, preserving system resources</p>
</div>
<div class="paragraph">
<p><strong>Platform-Specific Security Considerations:</strong>
- RP2350 hardware security features (secure boot, unique device ID) integrated into security architecture
- Lightweight cryptographic algorithms chosen to minimize CPU overhead (&lt;5% utilization)
- Static memory allocation prevents security-related memory leaks
- Hardware random number generator used for cryptographic operations</p>
</div>
<div class="paragraph">
<p><strong>Fail-Safe Security Principles:</strong>
- Security failures default to secure state (deny access, maintain logging)
- Industrial operation continues during security incidents where possible
- Critical security events trigger controlled degradation, not system shutdown
- Recovery procedures restore both security and operational functionality</p>
</div>
<div class="paragraph">
<p>These scenarios serve as the foundation for:
- Architecture decision evaluation criteria
- Test case development and acceptance criteria
- Performance benchmarking and validation
- Stakeholder communication about quality expectations
- Risk assessment and mitigation planning
- Security-operational trade-off analysis</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_risk_overview">11.1. Risk Overview</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Risk ID</th>
<th class="tableblock halign-left valign-top">Risk Title</th>
<th class="tableblock halign-left valign-top">Category</th>
<th class="tableblock halign-left valign-top">Probability</th>
<th class="tableblock halign-left valign-top">Impact</th>
<th class="tableblock halign-left valign-top">Risk Level</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENC28J60 Ecosystem Maturity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CRITICAL</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-002</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART Hardware Resource Conflicts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-003</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No TLS/HTTPS Security Implementation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No UART Flow Control Implementation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-005</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single Developer Knowledge Dependencies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organizational</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RP2350 Platform Learning Curve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organizational</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MEDIUM</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-007</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component Supply Chain Availability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MEDIUM</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-008</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industrial Performance Requirements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_detailed_risk_analysis">11.2. Detailed Risk Analysis</h3>
<div class="sect3">
<h4 id="_r_001_enc28j60_ecosystem_maturity_risk">11.2.1. R-001: ENC28J60 Ecosystem Maturity Risk</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENC28J60 ethernet controller lacks mature RP2350 SDK integration, requiring significant custom development effort and potentially impacting industrial reliability goals</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - No official RP2350 support exists, only individual open-source efforts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - Could require months of custom lwIP integration development and create maintenance risks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CRITICAL</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Decision made to accept risk and proceed with ENC28J60
- Basic research completed on integration approaches
- Alternative W5500 option identified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Allocate 2-4 weeks for custom integration development
- Create fallback plan for W5500 migration if integration proves too complex
- Establish contact with existing ENC28J60+RP2350 community projects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Senior Developer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Early implementation phase (next 3 months)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Integration taking longer than 4 weeks
- Stability issues with ethernet stack
- Performance not meeting requirements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monthly during development</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_002_uart_hardware_resource_conflicts">11.2.2. R-002: UART Hardware Resource Conflicts</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RP2350 has limited UART resources: only 3 PIO UARTs available, 1 hardware UART conflicts with debug UART, other hardware UART used for SPI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - Hardware limitations are fixed constraints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Limits system to 3 UARTs instead of advertised 4, affects product specification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Issue documented in technical debt register
- PIO UART implementation planned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Redesign system for 3 UARTs maximum
- Investigate debug UART alternatives (SWD-only debugging)
- Consider external UART expansion via I2C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware Lead</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hardware design phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Debug UART conflicts discovered during testing
- PIO UART performance insufficient</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During hardware design finalization</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_003_no_tlshttps_security_implementation">11.2.3. R-003: No TLS/HTTPS Security Implementation</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current architecture does not include TLS/HTTPS support, creating security vulnerability for industrial applications</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Not all deployments require TLS, but many industrial environments do</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - Could prevent deployment in security-conscious environments, data interception risk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Issue documented in technical debt register
- TLS requirement identified for future implementation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Research mbedTLS integration with RP2350
- Plan TLS implementation for firmware v2.0
- Document security limitations clearly for v1.0
- Consider VPN-based security as interim solution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security Lead</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Post-v1.0 release</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Customer inquiries about TLS support
- Security audit requirements emerge</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quarterly</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_004_no_uart_flow_control_implementation">11.2.4. R-004: No UART Flow Control Implementation</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UART implementation lacks hardware flow control (RTS/CTS), risking data loss under high throughput conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - High-speed UART communication commonly requires flow control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Data loss possible, but software buffering may mitigate for many use cases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Issue documented in technical debt register
- Software buffering strategy implemented</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Implement XON/XOFF software flow control
- Add hardware flow control pins to hardware design
- Document flow control limitations clearly
- Test thoroughly with high-speed protocols</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firmware Lead</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During UART implementation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Data loss observed during testing
- Customer requirements include flow control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During UART testing phase</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_005_single_developer_knowledge_dependencies">11.2.5. R-005: Single Developer Knowledge Dependencies</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organizational</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical project knowledge concentrated in individual team members, creating project continuity risk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Team changes can occur during project lifecycle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - Could halt development if key person unavailable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Comprehensive arc42 documentation being created
- ADR records document technical decisions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Implement pair programming for critical components
- Create detailed technical documentation for all modules
- Cross-train team members on RP2350 platform
- Record design decision rationale thoroughly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Throughout project</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Key team member availability concerns
- Knowledge gaps identified during reviews</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monthly</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_006_rp2350_platform_learning_curve">11.2.6. R-006: RP2350 Platform Learning Curve</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organizational</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Team unfamiliarity with RP2350-specific features (PIO, dual-core, security) may slow development</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Team has embedded experience but not RP2350-specific</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Could extend development timeline, suboptimal implementations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MEDIUM</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- ADR-004 selected Native Pico SDK for best platform access
- Team has strong C and embedded background</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Allocate time for RP2350 training sessions
- Create proof-of-concept implementations for key features
- Engage with Raspberry Pi developer community
- Study official examples and documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical Lead</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Early development phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Development taking longer than estimated
- Suboptimal use of platform features</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bi-weekly during development</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_007_component_supply_chain_availability">11.2.7. R-007: Component Supply Chain Availability</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RP2350 and ENC28J60 component availability could be affected by supply chain disruptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low - Both components currently available from multiple suppliers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - Could halt production if components unavailable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MEDIUM</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Multiple supplier sources identified
- Components currently in stock at major distributors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Monitor component availability regularly
- Establish relationships with multiple suppliers
- Consider alternative component specifications (W5500 backup)
- Plan component inventory for production runs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply Chain Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pre-production and production phases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Lead times extending beyond normal
- Price increases indicating supply constraints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quarterly</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_r_008_industrial_performance_requirements">11.2.8. R-008: Industrial Performance Requirements</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Category</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System may not meet industrial performance requirements (latency, throughput, reliability) under real-world conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Probability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium - Performance requirements are aggressive for embedded system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Impact</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High - Could prevent adoption in target industrial applications</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risk Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HIGH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Current Controls</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Quality requirements documented in Chapter 10
- Performance testing planned
- Static allocation strategy chosen for predictability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Additional Mitigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Implement comprehensive performance testing framework
- Test with realistic industrial data patterns
- Monitor performance metrics continuously
- Plan performance optimization iterations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Owner</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance Engineer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Timeline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Testing and validation phases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Early Warning Signs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- Performance tests failing targets
- Latency spikes under load</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Review Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weekly during testing</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_technical_debt_register">11.3. Technical Debt Register</h3>
<div class="paragraph">
<p>The following technical debts have been identified and require future resolution:</p>
</div>
<div class="sect3">
<h4 id="_td_001_uart_flow_control">11.3.1. TD-001: UART Flow Control</h4>
<div class="paragraph">
<p><strong>Description:</strong> No hardware flow control implementation for UART interfaces<br>
<strong>Impact:</strong> Potential data loss under high throughput conditions<br>
<strong>Priority:</strong> High<br>
<strong>Effort:</strong> Medium (2-3 weeks)<br>
<strong>Resolution Plan:</strong> Implement XON/XOFF software flow control and add hardware pins in next revision</p>
</div>
</div>
<div class="sect3">
<h4 id="_td_002_tlshttps_security">11.3.2. TD-002: TLS/HTTPS Security</h4>
<div class="paragraph">
<p><strong>Description:</strong> No TLS/HTTPS security implementation for network communications<br>
<strong>Impact:</strong> Security vulnerability in industrial environments<br>
<strong>Priority:</strong> High<br>
<strong>Effort:</strong> High (4-6 weeks)<br>
<strong>Resolution Plan:</strong> Integrate mbedTLS library in firmware v2.0</p>
</div>
</div>
<div class="sect3">
<h4 id="_td_003_uart_resource_limitations">11.3.3. TD-003: UART Resource Limitations</h4>
<div class="paragraph">
<p><strong>Description:</strong> Only 3 UARTs available due to debug and SPI conflicts, not 4 as originally planned<br>
<strong>Impact:</strong> Product specification limitation<br>
<strong>Priority:</strong> Medium<br>
<strong>Effort:</strong> High (hardware redesign)<br>
<strong>Resolution Plan:</strong> Document limitation clearly, investigate external UART expansion options</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_risk_mitigation_plan">11.4. Risk Mitigation Plan</h3>
<div class="sect3">
<h4 id="_immediate_actions_next_30_days">11.4.1. Immediate Actions (Next 30 Days)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p>&#10063; Allocate ENC28J60 integration development time (R-001)</p>
</li>
<li>
<p>&#10063; Finalize UART hardware configuration to avoid conflicts (R-002)</p>
</li>
<li>
<p>&#10063; Begin RP2350 platform training sessions (R-006)</p>
</li>
<li>
<p>&#10063; Create detailed technical documentation templates (R-005)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_short_term_actions_next_90_days">11.4.2. Short-term Actions (Next 90 Days)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p>&#10063; Complete ENC28J60 integration prototype (R-001)</p>
</li>
<li>
<p>&#10063; Implement comprehensive performance testing (R-008)</p>
</li>
<li>
<p>&#10063; Document security limitations and alternatives (R-003)</p>
</li>
<li>
<p>&#10063; Establish component supplier relationships (R-007)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_long_term_actions_next_6_months">11.4.3. Long-term Actions (Next 6 Months)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p>&#10063; Plan TLS implementation for v2.0 (R-003)</p>
</li>
<li>
<p>&#10063; Evaluate hardware flow control addition (R-004)</p>
</li>
<li>
<p>&#10063; Quarterly risk assessment reviews</p>
</li>
<li>
<p>&#10063; Post-implementation risk validation</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_risk_monitoring">11.5. Risk Monitoring</h3>
<div class="sect3">
<h4 id="_weekly_reviews">11.5.1. Weekly Reviews</h4>
<div class="ulist">
<ul>
<li>
<p>Monitor ENC28J60 integration progress</p>
</li>
<li>
<p>Review performance testing results</p>
</li>
<li>
<p>Track component availability</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_monthly_reviews">11.5.2. Monthly Reviews</h4>
<div class="ulist">
<ul>
<li>
<p>Assess risk mitigation progress</p>
</li>
<li>
<p>Identify new risks from development discoveries</p>
</li>
<li>
<p>Update risk levels based on current status</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_quarterly_reviews">11.5.3. Quarterly Reviews</h4>
<div class="ulist">
<ul>
<li>
<p>Complete comprehensive risk register review</p>
</li>
<li>
<p>Validate mitigation effectiveness</p>
</li>
<li>
<p>Update risk management process</p>
</li>
<li>
<p>Review technical debt resolution progress</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_risk_escalation_triggers">11.6. Risk Escalation Triggers</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Critical</strong>: ENC28J60 integration proves unfeasible</p>
</li>
<li>
<p><strong>High</strong>: Performance targets consistently missed</p>
</li>
<li>
<p><strong>Medium</strong>: Key team member unavailability</p>
</li>
<li>
<p><strong>Any</strong>: New risks emerge that threaten project success</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">12. Glossary</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A/B Updates</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Dual partition firmware update strategy that maintains two separate flash memory partitions (A and B) containing different firmware versions. During updates, the new firmware is written to the inactive partition while the system continues running from the active partition. If the new firmware fails or becomes corrupted, the system can automatically rollback to the previous working version, ensuring system reliability and preventing brick situations in remote deployments.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Arduino</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Open-source electronics platform consisting of both hardware boards (microcontroller development boards) and software (integrated development environment). Arduino provides a simplified programming framework with pre-built libraries and functions that abstract complex microcontroller operations, making embedded programming accessible to beginners while remaining powerful enough for professional applications. The Arduino ecosystem includes thousands of community-contributed libraries and shields (expansion boards).</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>CI/CD</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Continuous Integration/Continuous Deployment - modern software development methodology that automates the building, testing, and deployment pipeline. CI automatically builds and tests code changes when developers commit to version control, catching integration issues early. CD extends this by automatically deploying tested code to production environments, reducing manual errors and enabling rapid, reliable software releases.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Client System</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>In Gateway Mode, the networked device or application that connects to UART2ETH via TCP sockets to communicate with legacy serial equipment. Client systems can be computers, servers, mobile devices, or other networked equipment that need to access serial devices remotely over Ethernet networks. Examples include monitoring software, configuration tools, or remote control applications.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>CMake</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Cross-platform, open-source build system generator that creates native build files (Makefiles, Visual Studio projects, Xcode projects) from platform-independent configuration files. CMake manages complex build dependencies, compiler flags, and linking requirements across different operating systems and compilers, simplifying the build process for C/C++ projects and enabling consistent builds across development teams.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ENC28J60</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Low-cost Ethernet controller chip from Microchip Technology that provides 10Base-T Ethernet connectivity via SPI interface. This single-chip solution includes MAC (Media Access Control) and PHY (Physical Layer) functions, making it popular for adding basic Ethernet capabilities to microcontroller projects. It requires external TCP/IP stack implementation and offers a cost-effective alternative to more integrated solutions.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Full Bridge Mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UART2ETH operating mode that creates a transparent network bridge between two serial devices located at different physical locations. Both devices communicate through their UART interfaces as if they were directly connected with a serial cable, but the connection is actually routed through TCP/IP networks. This mode enables legacy serial equipment to communicate across long distances, through existing network infrastructure, without requiring protocol modifications.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Gateway Mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UART2ETH operating mode that adds network connectivity to existing serial-only equipment without modifying the original device. The UART2ETH device acts as a protocol gateway, translating between the legacy device&#8217;s serial communication and modern TCP/IP networking. This allows multiple network clients to simultaneously access serial equipment, enabling remote monitoring, configuration, and control of industrial equipment, embedded systems, or test instruments.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Host System</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The serial equipment or device connected to UART2ETH&#8217;s physical UART interface. In Gateway Mode, this is typically legacy industrial equipment, embedded systems, or test instruments that only support serial communication. In Full Bridge Mode, both endpoints are considered Host Systems. Host Systems are unaware of the network translation and continue using their native serial protocols.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>HW UART</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Hardware Universal Asynchronous Receiver-Transmitter - dedicated silicon circuitry within microcontrollers that handles serial communication at the hardware level. HW UARTs provide precise timing, automatic start/stop bit handling, parity checking, and interrupt generation without CPU intervention. This contrasts with software-based UART implementations that consume CPU cycles and may have timing limitations, especially at higher baud rates.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Misra-c</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Motor Industry Software Reliability Association C - comprehensive coding standard that defines strict guidelines for writing safety-critical C code. MISRA-C rules cover language subset restrictions, coding practices, and documentation requirements designed to eliminate common programming errors, undefined behaviors, and implementation-defined constructs. Originally developed for automotive software, it&#8217;s now widely used in aerospace, medical devices, and industrial control systems.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>OTA (Over-The-Air)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Remote firmware update mechanism that allows devices to receive and install new firmware through their existing communication channels (WiFi, Ethernet, cellular) without requiring physical access. OTA updates enable field devices to receive bug fixes, security patches, and feature updates remotely, reducing maintenance costs and enabling rapid deployment of improvements across device fleets. Critical for IoT devices in remote or inaccessible locations.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>PIO</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Programmable Input/Output - specialized hardware feature of the Raspberry Pi RP2350 microcontroller that provides highly flexible, real-time I/O processing independent of the main CPU cores. PIO consists of state machines that can execute custom assembly-like programs to handle precise timing requirements for protocols like WS2812 LEDs, custom serial formats, or parallel interfaces. Each PIO block can run multiple state machines simultaneously, enabling complex I/O operations without CPU intervention.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>PLC (Programmable Logic Controller)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Industrial computer designed for automation of manufacturing processes, machinery control, and industrial monitoring systems. PLCs are ruggedized for harsh industrial environments and provide real-time control with deterministic response times. They typically use ladder logic programming and offer extensive I/O capabilities for sensors, actuators, and communication networks. Common in factory automation, process control, and building management systems.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>platformio</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Modern, open-source ecosystem for embedded and IoT development that provides unified tooling across multiple microcontroller platforms, frameworks, and boards. PlatformIO includes cross-platform IDE, library manager, unit testing framework, remote debugging capabilities, and continuous integration support. It abstracts away toolchain complexity while supporting hundreds of development boards and frameworks including Arduino, ESP-IDF, STM32, and many others.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Protocol Filter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Pluggable software component within UART2ETH that intelligently processes and optimizes serial data streams before TCP transmission. Protocol filters can implement packet framing, data compression, error correction, or protocol-specific optimizations to reduce network bandwidth, improve latency, or enhance reliability. Examples include buffering strategies for bulk data transfers, real-time filtering for control systems, or custom packet structures for specific industrial protocols.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>RPI RP2350</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Second-generation microcontroller chip from Raspberry Pi Foundation featuring dual ARM Cortex-M33 cores running up to 150MHz, 520KB SRAM, advanced security features, and flexible I/O capabilities including PIO state machines. The RP2350 provides enhanced performance and security compared to the original RP2040, making it suitable for industrial applications requiring real-time processing, secure communications, and complex I/O handling.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>SCADA (Supervisory Control and Data Acquisition)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Industrial control system architecture used for monitoring and controlling large-scale processes across multiple locations. SCADA systems collect data from remote sensors and equipment, provide centralized monitoring through human-machine interfaces (HMIs), and enable operators to control distributed processes. Common in utilities (power grids, water treatment), manufacturing, and transportation systems where real-time monitoring and control of geographically dispersed equipment is essential.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>SPI Ethernet Controller</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Ethernet controller chip that communicates with microcontrollers through the Serial Peripheral Interface (SPI) protocol rather than parallel buses. These controllers handle the complex Ethernet physical layer operations (signal encoding, collision detection, carrier sensing) while presenting a simple SPI interface to the host microcontroller. This approach reduces pin count requirements and simplifies PCB design while providing reliable network connectivity for embedded systems.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>SPI TCP/IP Controller</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Integrated circuit that implements the complete TCP/IP protocol stack in hardware and communicates with host microcontrollers via SPI interface. These chips handle all network protocol processing (IP, TCP, UDP, ARP, DHCP) independently, presenting socket-based APIs through SPI commands. This offloads complex network processing from the main microcontroller, simplifying firmware development and improving real-time performance for applications requiring both networking and real-time control.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>TCP Socket</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Network communication endpoint that provides reliable, ordered, and error-checked delivery of data streams between applications over IP networks. TCP sockets establish connections, handle flow control, retransmission of lost packets, and ensure data integrity through checksums and acknowledgments. Unlike UDP, TCP guarantees that data arrives in the correct order and without errors, making it essential for applications requiring reliable data transmission such as file transfers, web browsing, and industrial control protocols.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UART (Universal Asynchronous Receiver-Transmitter)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Serial communication protocol and hardware interface that transmits data character by character without requiring a shared clock signal between communicating devices. UART uses start and stop bits to frame each character, with configurable data bits (5-9), parity (none, even, odd), and stop bits (1, 1.5, 2). This asynchronous approach makes UART simple to implement and widely compatible, leading to its extensive use in embedded systems, industrial equipment, and debugging interfaces.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UART2ETH</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Complete hardware and firmware solution that bridges between UART serial interfaces and TCP/IP Ethernet networks, supporting up to 4 simultaneous UART connections. The system provides bidirectional data translation, protocol filtering, secure OTA updates, and flexible operating modes (Gateway and Full Bridge) to enable legacy serial equipment integration with modern networks. Built on the RPI RP2350 platform with support for various Ethernet controller options.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>W5500</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Fully integrated Ethernet controller from WIZnet that combines 10/100 Ethernet MAC, PHY, and a complete TCP/IP protocol stack in a single chip. The W5500 communicates with host microcontrollers via SPI and provides hardware-accelerated socket operations, automatic packet processing, and wake-on-LAN capabilities. Its integrated approach simplifies network integration for embedded systems by handling all low-level networking operations transparently, allowing developers to focus on application logic rather than network protocols.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
        </p>

        <style>
.feedback--answer {
    display: inline-block;
}

.feedback--answer-no {
    margin-left: 1em;
}

.feedback--response {
    display: none;
    margin-top: 1em;
}

.feedback--response__visible {
    display: block;
}
</style>

<div class="d-print-none">
    <h2 class="feedback--title">Feedback</h2>
    <p class="feedback--question">Was this page helpful?</p>
    <button class="feedback--answer feedback--answer-yes">Yes</button>
    <button class="feedback--answer feedback--answer-no">No</button>
    <p class="feedback--response feedback--response-yes">
        Glad to hear it! Please <a href="##issue-url##?title=Docs%3A+Feedback+for+%27image%3Aarc42-logo.png%5Barc42%5D+Template%27%20%F0%9F%91%8D&body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23page:arc42/arc42.adoc">tell us
    how we can improve</a>.
    </p>
    <p class="feedback--response feedback--response-no">
        Sorry to hear that. Please <a href="##issue-url##?title=Docs%3A+Feedback+for+%27image%3Aarc42-logo.png%5Barc42%5D+Template%27%20%F0%9F%91%8E&body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23page:arc42/arc42.adoc">tell
    us how we can improve</a>.
    </p>
</div>
<script>
    const yesButton = document.querySelector('.feedback--answer-yes');
    const noButton = document.querySelector('.feedback--answer-no');
    const yesResponse = document.querySelector('.feedback--response-yes');
    const noResponse = document.querySelector('.feedback--response-no');
    const disableButtons = () => {
        yesButton.disabled = true;
        noButton.disabled = true;
    };
    const sendFeedback = (value) => {
        if (typeof ga !== 'function') return;
        const args = {
            command: 'send',
            hitType: 'event',
            category: 'Helpful',
            action: 'click',
            label: window.location.pathname,
            value: value
        };
        ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
    };
    yesButton.addEventListener('click', () => {
        yesResponse.classList.add('feedback--response__visible');
        disableButtons();
        sendFeedback(1);
    });
    noButton.addEventListener('click', () => {
        noResponse.classList.add('feedback--response__visible');
        disableButtons();
        sendFeedback(0);
    });
</script>


        <br>

        <!--div class="text-muted mt-5 pt-3 border-top">Last modified July 3, 2019: <a
                href="https://github.com/google/docsy-example/commit/d6aa89c8b24089d7e6741030864eff209465e896">Added
            links to user guide repo (d6aa89c)</a>
        </div-->
    </div>


			</main>

		</div>
	</div>


	
    <!--footer class="footer mt-auto py-3 bg-light">
        <div class="container">
            <span class="text-muted">&copy; 2020 | based on <a href="https://arc42.org">arc42 7.0</a> | mixed with <a href="http://getbootstrap.com/">Bootstrap v5.0.0-beta</a> | Baked with <a href="http://jbake.org">JBake v2.6.7</a></span>
        </div>
    </footer-->

    <footer class="bg-dark py-5 row d-print-none">
        <div class="container-fluid mx-sm-5">
            <div class="row">
                <div class="col-6 col-sm-4 text-xs-center order-sm-2">


                    <ul class="list-inline mb-0">
                        
                        <li aria-label="User mailing list" class="list-inline-item mx-2 h3" data-original-title="User mailing list" data-placement="top"
                            data-toggle="tooltip" title="">
                            <a class="text-white" href="mailto:##footer-email##" rel="noopener noreferrer"
                               target="_blank">
                                <i class="fa fa-envelope"></i>
                            </a>
                        </li>
                        
                        
                        <li aria-label="Twitter" class="list-inline-item mx-2 h3" data-original-title="Twitter" data-placement="top"
                            data-toggle="tooltip" title="">
                            <a class="text-white" href="##twitter-url##" rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-twitter"></i>
                            </a>
                        </li>
                        
                        
                        <li aria-label="Stack Overflow" class="list-inline-item mx-2 h3" data-original-title="Stack Overflow" data-placement="top"
                            data-toggle="tooltip" title="">
                            <a class="text-white" href="##Stackoverflow-url##" rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-stack-overflow"></i>
                            </a>
                        </li>
                        
                    </ul>


                </div>
                <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">


                    <ul class="list-inline mb-0">

                        
                        <li aria-label="GitHub" class="list-inline-item mx-2 h3" data-original-title="GitHub" data-placement="top"
                            data-toggle="tooltip" title="">
                            <a class="text-white" href="##Github-url##" rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-github"></i>
                            </a>
                        </li>
                        

                        
                        <li aria-label="Slack" class="list-inline-item mx-2 h3" data-original-title="Slack" data-placement="top"
                            data-toggle="tooltip" title="">
                            <a class="text-white" href="##Slack-url##" rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-slack"></i>
                            </a>
                        </li>
                        


                    </ul>


                </div>
                <div class="col-12 col-sm-4 text-center py-2 order-sm-2">

                        <small class="text-white">built with <a href="https://doctoolchain.org">docToolchain</a> and <a href="https://jbake.org">jBake</a> <br /> theme: <a href="https://www.docsy.dev/">docsy</a></small>

                </div>
            </div>
        </div>
    </footer>

    <script src="../js/popper.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>


    <script src="../js/main.min.b5fc1b29d2465835844254bd4d804738eaf24c0cec53009b4c6899989be55a47.js"></script>
    <script src="../js/blocks.js" ></script>
    <script src="../js/prettify.js"></script>
    <script src="../js/copy-n-paste.js"></script>
    <script src="../js/submenucollapse.js"></script>


</body>
</html>
